;;; context-navigator-i18n.el --- Minimal i18n for Context Navigator -*- lexical-binding: t; -*-

;; SPDX-License-Identifier: MIT

;;; Commentary:
;; Lightweight translation table and resolver.
;; Languages: EN, RU, FR, DE, ES, UK, BE, ZH, JA. Default = from locale or EN.
;; Note: Where a specific translation is missing, we gracefully fall back to EN.

;;; Code:

(require 'subr-x)

(defgroup context-navigator-i18n nil
  "Internationalization settings for Context Navigator."
  :group 'context-navigator)

(defcustom context-navigator-language 'auto
  "Language to use for UI strings: one of (auto en ru fr de es uk be zh ja)."
  :type '(choice (const :tag "Auto" auto)
                 (const en) (const ru) (const fr) (const de) (const es)
                 (const uk) (const be) (const zh) (const ja))
  :group 'context-navigator-i18n)

(defconst context-navigator-i18n--dict
  '((:add-from-text
     (en . "Add files from text")
     (ru . "Добавить файлы из текста")
     (fr . "Ajouter des fichiers depuis le texte")
     (de . "Dateien aus Text hinzufügen")
     (es . "Añadir archivos desde el texto")
     (uk . "Додати файли з тексту")
     (be . "Дадаць файлы з тэксту")
     (zh . "从文本添加文件")
     (ja . "テキストからファイルを追加"))
    (:add-from-minibuf
     (en . "Add files from minibuffer (mask)")
     (ru . "Добавить файлы из minibuffer (маска)")
     (fr . "Ajouter des fichiers depuis le minibuffer (masque)")
     (de . "Dateien aus dem Minibuffer hinzufügen (Maske)")
     (es . "Añadir archivos desde minibuffer (máscara)")
     (uk . "Додати файли з minibuffer (маска)")
     (be . "Дадаць файлы з minibuffer (маска)")
     (zh . "从 minibuffer 添加文件（通配）")
     (ja . "ミニバッファからファイルを追加（マスク）"))
    ;; Transient menu: sections and items
    (:tr-panel
     (en . "Panel/Project")
     (ru . "Панель/Проект")
     (fr . "Panneau/Projet")
     (de . "Panel/Projekt")
     (es . "Panel/Proyecto")
     (uk . "Панель/Проєкт")
     (be . "Панэль/Праект")
     (zh . "面板/项目")
     (ja . "パネル/プロジェクト"))
    (:tr-context
     (en . "Context/Groups")
     (ru . "Контекст/Группы")
     (fr . "Contexte/Groupes")
     (de . "Kontext/Gruppen")
     (es . "Contexto/Grupos")
     (uk . "Контекст/Групи")
     (be . "Кантэкст/Групы")
     (zh . "上下文/分组")
     (ja . "コンテキスト/グループ"))
    (:tr-actions
     (en . "Actions")
     (ru . "Действия")
     (fr . "Actions")
     (de . "Aktionen")
     (es . "Acciones")
     (uk . "Дії")
     (be . "Дзеянні")
     (zh . "操作")
     (ja . "アクション"))
    (:tr-gptel
     (en . "GPTel")
     (ru . "GPTel")
     (fr . "GPTel")
     (de . "GPTel")
     (es . "GPTel")
     (uk . "GPTel")
     (be . "GPTel")
     (zh . "GPTel")
     (ja . "GPTel"))
    (:tr-toggle-sidebar
     (en . "Toggle sidebar")
     (ru . "Переключить боковую панель")
     (fr . "Basculer le panneau latéral")
     (de . "Seitenleiste umschalten")
     (es . "Alternar barra lateral")
     (uk . "Перемкнути бічну панель")
     (be . "Пераключыць бакавую панэль")
     (zh . "切换侧边栏")
     (ja . "サイドバーの切り替え"))
    (:tr-switch-project
     (en . "Switch to current project")
     (ru . "Переключиться на текущий проект")
     (fr . "Basculer vers le projet courant")
     (de . "Zum aktuellen Projekt wechseln")
     (es . "Cambiar al proyecto actual")
     (uk . "Перейти до поточного проєкту")
     (be . "Перайсці да бягучага праекта")
     (zh . "切换到当前项目")
     (ja . "現在のプロジェクトに切り替え"))
    (:tr-groups-list
     (en . "Groups list")
     (ru . "Список групп")
     (fr . "Liste des groupes")
     (de . "Gruppenliste")
     (es . "Lista de grupos")
     (uk . "Список груп")
     (be . "Спіс груп")
     (zh . "分组列表")
     (ja . "グループ一覧"))
    (:tr-unload
     (en . "Unload context")
     (ru . "Выгрузить контекст")
     (fr . "Décharger le contexte")
     (de . "Kontext entladen")
     (es . "Descargar contexto")
     (uk . "Вивантажити контекст")
     (be . "Выгрузіць кантэкст")
     (zh . "卸载上下文")
     (ja . "コンテキストをアンロード"))
    (:tr-add-universal
     (en . "Add (universal)")
     (ru . "Добавить (универсально)")
     (fr . "Ajouter (universel)")
     (de . "Hinzufügen (universell)")
     (es . "Añadir (universal)")
     (uk . "Додати (універсально)")
     (be . "Дадаць (універсальна)")
     (zh . "添加（通用）")
     (ja . "追加（汎用）"))
    (:tr-open-buffers
     (en . "Open buffers (background)")
     (ru . "Открыть буферы (в фоне)")
     (fr . "Ouvrir les tampons (arrière-plan)")
     (de . "Puffer öffnen (Hintergrund)")
     (es . "Abrir búferes (segundo plano)")
     (uk . "Відкрити буфери (у фоні)")
     (be . "Адкрыць буферы (у фоне)")
     (zh . "打开缓冲区（后台）")
     (ja . "バッファを開く（バックグラウンド）"))
    (:tr-toggle-push
     (en . "Toggle push→gptel")
     (ru . "Переключить отправку→gptel")
     (fr . "Basculer l’envoi→gptel")
     (de . "Push→gptel umschalten")
     (es . "Alternar envío→gptel")
     (uk . "Перемкнути надсилання→gptel")
     (be . "Пераключыць адправу→gptel")
     (zh . "切换推送→gptel")
     (ja . "push→gptel を切り替え"))
    (:tr-toggle-auto
     (en . "Toggle auto-project")
     (ru . "Переключить авто-проект")
     (fr . "Basculer auto-projet")
     (de . "Auto-Projekt umschalten")
     (es . "Alternar auto-proyecto")
     (uk . "Перемкнути авто-проєкт")
     (be . "Пераключыць аўта-праект")
     (zh . "切换自动项目")
     (ja . "自動プロジェクト切替"))
    (:tr-push-now
     (en . "Push now")
     (ru . "Отправить сейчас")
     (fr . "Envoyer maintenant")
     (de . "Jetzt senden")
     (es . "Enviar ahora")
     (uk . "Надіслати зараз")
     (be . "Адправіць зараз")
     (zh . "立即推送")
     (ja . "今すぐプッシュ"))
    (:mask-minibuf-prompt
     (en . "File(s) or mask (glob)")
     (ru . "Файл(ы) или маска (glob)")
     (fr . "Fichier(s) ou masque (glob)")
     (de . "Datei(en) oder Maske (Glob)")
     (es . "Archivo(s) o máscara (glob)")
     (uk . "Файл(и) або маска (glob)")
     (be . "Файл(ы) або маска (glob)")
     (zh . "文件或通配符（glob）")
     (ja . "ファイルまたはマスク（glob）"))
    (:mask-nothing-found
     (en . "Nothing matched by mask: %s")
     (ru . "Ничего не найдено по маске: %s")
     (fr . "Aucune correspondance pour le masque : %s")
     (de . "Keine Übereinstimmung für Maske: %s")
     (es . "No hay coincidencias para la máscara: %s")
     (uk . "Нічого не знайдено за маскою: %s")
     (be . "Нічога не знойдзена па масцы: %s")
     (zh . "通配符未匹配任何内容：%s")
     (ja . "マスクに一致するものはありません: %s"))
    (:mask-remote-unsupported
     (en . "TRAMP mask expansion is disabled (pattern: %s)")
     (ru . "Раскрытие масок по TRAMP отключено (pattern: %s)")
     (fr . "L’expansion des masques TRAMP est désactivée (motif : %s)")
     (de . "TRAMP-Maskenerweiterung ist deaktiviert (Muster: %s)")
     (es . "La expansión de máscaras TRAMP está desactivada (patrón: %s)")
     (uk . "Розкриття масок TRAMP вимкнено (шаблон: %s)")
     (be . "Разгортванне масак TRAMP адключана (узор: %s)")
     (zh . "已禁用 TRAMP 通配展开（模式：%s）")
     (ja . "TRAMP のマスク展開は無効です（パターン: %s）"))
    (:mask-parse-error
     (en . "Invalid mask: %s")
     (ru . "Некорректная маска: %s")
     (fr . "Masque invalide : %s")
     (de . "Ungültige Maske: %s")
     (es . "Máscara inválida: %s")
     (uk . "Некоректна маска: %s")
     (be . "Няправільная маска: %s")
     (zh . "无效的通配符：%s")
     (ja . "無効なマスク: %s"))
    (:mask-mixed-input
     (en . "Mixed input: ignoring mask(s), adding explicit names")
     (ru . "Смешанный ввод: игнорируем маску(и), добавляем явные имена")
     (fr . "Masque ou liste de noms, pas les deux. Scindez l’opération.")
     (de . "Entweder Maske oder Namensliste. Vorgang aufteilen.")
     (es . "Máscara o lista de nombres. Divida la operación.")
     (uk . "Або маска, або список імен. Розділіть операцію.")
     (be . "Або маска, або спіс імёнаў. Падзяліце аперацыю.")
     (zh . "要么使用通配符，要么提供名称列表，请分开操作。")
     (ja . "マスクか名前の一覧のいずれかにしてください。操作を分けてください。"))
    (:mask-only-one
     (en . "Only one mask is supported at a time")
     (ru . "Поддерживается только одна маска за раз")
     (fr . "Une seule masque à la fois est supportée")
     (de . "Es wird jeweils nur eine Maske unterstützt")
     (es . "Solo se admite una máscara a la vez")
     (uk . "Підтримується лише одна маска за раз")
     (be . "Падтрымліваецца толькі адна маска за раз")
     (zh . "一次只支持一个通配符")
     (ja . "同時にサポートされるマスクは1つだけです"))
    (:mask-dirs-only
     (en . "Mask matched only directories — files not found.")
     (ru . "Маска совпала только с каталогами — файлы не найдены.")
     (fr . "Le masque ne correspond qu’aux répertoires — aucun fichier trouvé.")
     (de . "Maske passt nur auf Verzeichnisse — keine Dateien gefunden.")
     (es . "La máscara solo coincide con directorios — no se encontraron archivos.")
     (uk . "Маска збіглася лише з каталогами — файлів не знайдено.")
     (be . "Маска супала толькі з каталогамі — файлы не знойдзены.")
     (zh . "通配符仅匹配到目录——未找到文件。")
     (ja . "マスクはディレクトリにのみ一致しました — ファイルは見つかりません。"))
    (:resolve-start
     (en . "Resolving names...")
     (ru . "Идёт сопоставление...")
     (fr . "Résolution des noms…")
     (de . "Auflösen der Namen…")
     (es . "Resolviendo nombres…")
     (uk . "Відбувається зіставлення…")
     (be . "Ідзе супастаўленне…")
     (zh . "正在解析名称…")
     (ja . "名前を解決中…"))
    (:resolve-summary
     (en . "Resolved %d file(s); skipped: too big=%d, non-regular=%d")
     (ru . "Найдено %d файл(ов); пропущено: слишком большие=%d, нерегулярные=%d")
     (fr . "Résolu %d fichier(s); ignoré : trop gros=%d, non régulier=%d")
     (de . "%d Datei(en) aufgelöst; übersprungen: zu groß=%d, nicht regulär=%d")
     (es . "Resueltos %d archivo(s); omitidos: demasiado grandes=%d, no regulares=%d")
     (uk . "Вирішено %d файл(ів); пропущено: надто великі=%d, нерегулярні=%d")
     (be . "Вырашана %d файл(аў); прапушчана: занадта вялікія=%d, нярэгулярныя=%d")
     (zh . "已解析 %d 个文件；跳过：过大=%d，非普通=%d")
     (ja . "%d 個のファイルを解決; スキップ: 大きすぎ=%d, 非正規=%d"))
    (:ambiguous-found
     (en . "Ambiguities detected:")
     (ru . "Обнаружены неоднозначности:")
     (fr . "Ambiguïtés détectées :")
     (de . "Mehrdeutigkeiten erkannt:")
     (es . "Ambigüedades detectadas:")
     (uk . "Виявлено неоднозначності:")
     (be . "Выяўлены двухсэнсоўнасці:")
     (zh . "检测到歧义：")
     (ja . "あいまいさが検出されました:"))
    (:unresolved-found
     (en . "Unresolved:")
     (ru . "Не удалось разрешить:")
     (fr . "Non résolus :")
     (de . "Ungelöst:")
     (es . "No resuelto:")
     (uk . "Нерозв’язано:")
     (be . "Ня вырашана:")
     (zh . "未解析：")
     (ja . "未解決:"))
    (:text-no-tokens
     (en . "No paths found in selection")
     (ru . "В выделении не обнаружены пути")
     (fr . "Aucun chemin trouvé dans la sélection")
     (de . "Keine Pfade in der Auswahl gefunden")
     (es . "No se encontraron rutas en la selección")
     (uk . "У виділенні не знайдено шляхів")
     (be . "У вылучэнні не знойдзена шляхоў")
     (zh . "选区中未发现路径")
     (ja . "選択範囲にパスが見つかりません"))
    (:too-many
     (en . "Too many files (%d), max %d — operation cancelled")
     (ru . "Слишком много файлов (%d), максимум %d — операция отменена")
     (fr . "Trop de fichiers (%d), max %d — opération annulée")
     (de . "Zu viele Dateien (%d), max. %d — Vorgang abgebrochen")
     (es . "Demasiados archivos (%d), máximo %d — operación cancelada")
     (uk . "Занадто багато файлів (%d), максимум %d — операцію скасовано")
     (be . "Занадта шмат файлаў (%d), максімум %d — аперацыя скасавана")
     (zh . "文件过多（%d），最多 %d — 操作已取消")
     (ja . "ファイルが多すぎます（%d）、最大 %d — 操作は中止されました"))
    (:remote-warning
     (en . "Remote file(s) will be added: %d. Proceed? ")
     (ru . "Будут добавлены удалённые файлы: %d. Продолжить? ")
     (fr . "Des fichiers distants seront ajoutés : %d. Continuer ? ")
     (de . "%d Remote-Datei(en) werden hinzugefügt. Fortfahren? ")
     (es . "Se añadirán archivos remotos: %d. ¿Continuar? ")
     (uk . "Буде додано віддалені файли: %d. Продовжити? ")
     (be . "Будуць дададзены аддаленыя файлы: %d. Працягнуць? ")
     (zh . "将添加远程文件：%d。是否继续？")
     (ja . "リモートファイルが追加されます: %d。続行しますか？"))
    (:added-files-limited
     (en . "Added %d file(s) (limited)")
     (ru . "Добавлено %d файл(ов) (с ограничением)")
     (fr . "Ajout de %d fichier(s) (limité)")
     (de . "%d Datei(en) hinzugefügt (begrenzt)")
     (es . "Se agregaron %d archivo(s) (limitado)")
     (uk . "Додано %d файл(ів) (обмежено)")
     (be . "Дададзена %d файл(аў) (абмежаванне)")
     (zh . "已添加 %d 个文件（受限）")
     (ja . "%d 個のファイルを追加（制限あり）"))
    (:push-now
     (en . "push now")
     (ru . "в gptel")
     (fr . "pousser maintenant")
     (de . "jetzt senden")
     (es . "enviar ahora")
     (uk . "надіслати зараз")
     (be . "адправіць зараз")
     (zh . "立即推送")
     (ja . "今すぐプッシュ"))
    (:clear-group
     (en . "clear group")
     (ru . "очистить группу")
     (fr . "effacer le groupe")
     (de . "Gruppe leeren")
     (es . "vaciar grupo")
     (uk . "очистити групу")
     (be . "ачысціць групу")
     (zh . "清空分组")
     (ja . "グループをクリア"))
    (:clear-group-tip
     (en . "Clear current group's items (E)")
     (ru . "Очистить элементы текущей группы (E)")
     (fr . "Effacer les éléments du groupe courant (E)")
     (de . "Aktuelle Gruppenobjekte leeren (E)")
     (es . "Vaciar elementos del grupo actual (E)")
     (uk . "Очистити елементи поточної групи (E)")
     (be . "Ачысціць элементы бягучай групы (E)")
     (zh . "清空当前分组的条目（E）")
     (ja . "現在のグループの項目をクリア（E）"))
    (:clear-gptel
     (en . "clear gptel")
     (ru . "очистить gptel")
     (fr . "effacer gptel")
     (de . "gptel leeren")
     (es . "limpiar gptel")
     (uk . "очистити gptel")
     (be . "ачысціць gptel")
     (zh . "清空 gptel")
     (ja . "gptel をクリア"))
    (:global-context
     (en . "Global context")
     (ru . "Глобальный контекст")
     (fr . "Contexte global")
     (de . "Globaler Kontext")
     (es . "Contexto global")
     (uk . "Глобальний контекст")
     (be . "Глабальны кантэкст")
     (zh . "全局上下文")
     (ja . "グローバルコンテキスト"))
    (:groups
     (en . "Groups")
     (ru . "Группы")
     (fr . "Groupes")
     (de . "Gruppen")
     (es . "Grupos")
     (uk . "Групи")
     (be . "Групы")
     (zh . "分组")
     (ja . "グループ"))
    (:group-label
     (en . "group: %s")
     (ru . "группа: %s")
     (fr . "groupe: %s")
     (de . "Gruppe: %s")
     (es . "grupo: %s")
     (uk . "група: %s")
     (be . "група: %s")
     (zh . "分组: %s")
     (ja . "グループ: %s"))
    (:loading
     (en . "Loading…")
     (ru . "Загрузка…")
     (fr . "Chargement…")
     (de . "Laden…")
     (es . "Cargando…")
     (uk . "Завантаження…")
     (be . "Загрузка…")
     (zh . "加载中…")
     (ja . "読み込み中…"))
    (:no-groups
     (en . "No groups (press a to add)")
     (ru . "Нет групп (нажмите a для добавления)")
     (fr . "Aucun groupe (appuyez sur a pour ajouter)")
     (de . "Keine Gruppen (drücken Sie a zum Hinzufügen)")
     (es . "No hay grupos (presione a para añadir)")
     (uk . "Немає груп (натисніть a для додавання)")
     (be . "Няма груп (націсніце a, каб дадаць)")
     (zh . "暂无分组（按 a 添加）")
     (ja . "グループがありません（a で追加）"))
    (:mouse-open-group
     (en . "mouse-1: open group")
     (ru . "mouse-1: открыть группу")
     (fr . "souris-1: ouvrir le groupe")
     (de . "Maus-1: Gruppe öffnen")
     (es . "ratón-1: abrir grupo")
     (uk . "mouse-1: відкрити групу")
     (be . "mouse-1: адкрыць групу")
     (zh . "鼠标1：打开分组")
     (ja . "マウス1: グループを開く"))
    (:open-buffers
     (en . "open buffers")
     (ru . "открыть буферы")
     (fr . "ouvrir les tampons")
     (de . "puffer öffnen")
     (es . "abrir búferes")
     (uk . "відкрити буфери")
     (be . "адкрыць буферы")
     (zh . "打开缓冲区")
     (ja . "バッファを開く"))
    (:close-buffers
     (en . "close buffers")
     (ru . "закрыть буферы")
     (fr . "fermer les tampons")
     (de . "puffer schließen")
     (es . "cerrar búferes")
     (uk . "закрити буфери")
     (be . "закрыць буферы")
     (zh . "关闭缓冲区")
     (ja . "バッファを閉じる"))
    (:toggle-push
     (en . "Toggle push to gptel (x)")
     (ru . "Переключить отправку в gptel (x)")
     (fr . "Basculer l’envoi vers gptel (x)")
     (de . "Umschalten: Push zu gptel (x)")
     (es . "Alternar envío a gptel (x)")
     (uk . "Перемкнути надсилання до gptel (x)")
     (be . "Пераключыць адпраўку ў gptel (x)")
     (zh . "切换推送到 gptel (x)")
     (ja . "gptel へプッシュを切り替え (x)"))
    (:toggle-auto
     (en . "Toggle auto project switch (T)")
     (ru . "Переключить авто-переключение проекта (T)")
     (fr . "Basculer le changement auto de projet (T)")
     (de . "Autom. Projektwechsel umschalten (T)")
     (es . "Alternar cambio automático de proyecto (T)")
     (uk . "Перемкнути автоперехід проєктів (T)")
     (be . "Пераключыць аўтапераключэнне праекта (T)")
     (zh . "切换自动项目切换 (T)")
     (ja . "自動プロジェクト切替 (T)"))
    (:auto-proj
     (en . "auto-proj")
     (ru . "авто-проект")
     (fr . "auto-proj")
     (de . "auto-proj")
     (es . "auto-proj")
     (uk . "авто-проєкт")
     (be . "аўта-праект")
     (zh . "自动项目")
     (ja . "自動プロジェクト"))
    (:push-tip
     (en . "Push current items to gptel now (P)")
     (ru . "Отправить элементы в gptel сейчас (P)")
     (fr . "Envoyer les éléments vers gptel maintenant (P)")
     (de . "Elemente jetzt an gptel senden (P)")
     (es . "Enviar elementos a gptel ahora (P)")
     (uk . "Надіслати елементи в gptel зараз (P)")
     (be . "Адправіць элементы ў gptel зараз (P)")
     (zh . "立即推送当前项到 gptel (P)")
     (ja . "現在の項目を gptel へプッシュ (P)"))
    (:clear-tip
     (en . "Clear gptel context (C)")
     (ru . "Очистить контекст gptel (C)")
     (fr . "Effacer le contexte gptel (C)")
     (de . "gptel-Kontext leeren (C)")
     (es . "Limpiar el contexto de gptel (C)")
     (uk . "Очистити контекст gptel (C)")
     (be . "Ачысціць кантэкст gptel (C)")
     (zh . "清除 gptel 上下文 (C)")
     (ja . "gptel のコンテキストをクリア (C)"))
    (:items-help-view-groups
     (en . " Press h to view groups,")
     (ru . " Нажмите h, чтобы увидеть группы,")
     (fr . " Appuyez sur h pour voir les groupes,")
     (de . " Drücken Sie h, um Gruppen zu sehen,")
     (es . " Presione h para ver los grupos,")
     (uk . " Натисніть h, щоб переглянути групи,")
     (be . " Націсніце h, каб паглядзець групы,")
     (zh . " 按 h 查看分组,")
     (ja . " h でグループ一覧,"))
    (:items-help-help
     (en . "  ? for help")
     (ru . "  ? для справки")
     (fr . "  ? pour l’aide")
     (de . "  ? für Hilfe")
     (es . "  ? para ayuda")
     (uk . "  ? для довідки")
     (be . "  ? для даведкі")
     (zh . "  ? 帮助")
     (ja . "  ? ヘルプ"))
    (:groups-help-open
     (en . " RET: open group")
     (ru . " RET: открыть группу"))
    (:groups-help-add
     (en . " a: add group")
     (ru . " a: создать группу"))
    (:groups-help-rename
     (en . " r: rename")
     (ru . " r: переименовать"))
    (:groups-help-delete
     (en . " d: delete")
     (ru . " d: удалить"))
    (:groups-help-copy
     (en . " c: duplicate")
     (ru . " c: дублировать"))
    (:groups-help-refresh
     (en . " g: refresh")
     (ru . " g: обновить"))
    (:groups-help-back
     (en . " h: back to items")
     (ru . " h: к элементам"))
    (:groups-help-quit
     (en . " q: quit")
     (ru . " q: выйти"))
    (:groups-help-help
     (en . " ?: help")
     (ru . " ?: справка"))
    (:preview-title
     (en . "Will add %d file(s), total ~%s")
     (ru . "Будет добавлено %d файл(ов), всего ~%s")
     (fr . "Ajout de %d fichier(s), total ~%s")
     (de . "Es werden %d Datei(en) hinzugefügt, gesamt ~%s")
     (es . "Se agregarán %d archivo(s), total ~%s")
     (uk . "Буде додано %d файл(ів), разом ~%s")
     (be . "Буде дададзена %d файл(аў), усяго ~%s")
     (zh . "将添加 %d 个文件，合计 ~%s")
     (ja . "%d 個のファイルを追加予定、合計 ~%s"))
    (:preview-skipped-too-big
     (en . "Skipped (too large): %d (limit=%s)")
     (ru . "Пропущено (слишком большие): %d (лимит=%s)")
     (fr . "Ignoré (trop volumineux): %d (limite=%s)")
     (de . "Übersprungen (zu groß): %d (Limit=%s)")
     (es . "Omitidos (demasiado grandes): %d (límite=%s)")
     (uk . "Пропущено (надто великі): %d (ліміт=%s)")
     (be . "Прапушчана (занадта вялікія): %d (ліміт=%s)")
     (zh . "跳过（太大）：%d（上限=%s）")
     (ja . "スキップ（大きすぎ）: %d （上限=%s）"))
    (:preview-skipped-nonregular
     (en . "Skipped (non-regular): %d")
     (ru . "Пропущено (необычные файлы): %d")
     (fr . "Ignoré (non régulier): %d")
     (de . "Übersprungen (nicht regulär): %d")
     (es . "Omitidos (no regulares): %d")
     (uk . "Пропущено (нерегулярні): %d")
     (be . "Прапушчана (нярэгулярныя): %d")
     (zh . "跳过（非普通文件）：%d")
     (ja . "スキップ（通常でない）: %d"))
    (:preview-remote
     (en . "Remote files: %d (TRAMP)")
     (ru . "Удалённые файлы: %d (TRAMP)")
     (fr . "Fichiers distants: %d (TRAMP)")
     (de . "Remote-Dateien: %d (TRAMP)")
     (es . "Archivos remotos: %d (TRAMP)")
     (uk . "Віддалені файли: %d (TRAMP)")
     (be . "Аддаленыя файлы: %d (TRAMP)")
     (zh . "远程文件：%d (TRAMP)")
     (ja . "リモートファイル: %d (TRAMP)"))
    (:preview-files
     (en . "Files:")
     (ru . "Файлы:")
     (fr . "Fichiers:")
     (de . "Dateien:")
     (es . "Archivos:")
     (uk . "Файли:")
     (be . "Файлы:")
     (zh . "文件：")
     (ja . "ファイル:"))
    (:confirm-add
     (en . "Add %d file(s) to context? ")
     (ru . "Добавить %d файл(ов) в контекст? ")
     (fr . "Ajouter %d fichier(s) au contexte ? ")
     (de . "%d Datei(en) zum Kontext hinzufügen? ")
     (es . "¿Agregar %d archivo(s) al contexto? ")
     (uk . "Додати %d файл(ів) у контекст? ")
     (be . "Дадаць %d файл(аў) у кантэкст? ")
     (zh . "将 %d 个文件添加到上下文？ ")
     (ja . "%d 個のファイルをコンテキストに追加しますか? "))
    (:no-files-selected
     (en . "No files selected in Dired")
     (ru . "В Dired ничего не выбрано")
     (fr . "Aucun fichier sélectionné dans Dired")
     (de . "Keine Dateien in Dired ausgewählt")
     (es . "No hay archivos seleccionados en Dired")
     (uk . "У Dired нічого не вибрано")
     (be . "У Dired нічога не выбрана")
     (zh . "Dired 中未选中文件")
     (ja . "Dired でファイルが選択されていません"))
    (:aborted
     (en . "Aborted")
     (ru . "Отменено")
     (fr . "Annulé")
     (de . "Abgebrochen")
     (es . "Cancelado")
     (uk . "Скасовано")
     (be . "Скасавана")
     (zh . "已中止")
     (ja . "中断しました"))
    (:added-files
     (en . "Added %d file(s) to context")
     (ru . "Добавлено файлов в контекст: %d")
     (fr . "Ajouté %d fichier(s) au contexte")
     (de . "%d Datei(en) zum Kontext hinzugefügt")
     (es . "Se agregaron %d archivo(s) al contexto")
     (uk . "Додано файлів у контекст: %d")
     (be . "Дададзена файлаў у кантэкст: %d")
     (zh . "已添加 %d 个文件到上下文")
     (ja . "コンテキストに %d 個のファイルを追加しました"))
    (:warn-remote-selected
     (en . "Selected set includes %d remote file(s). Proceed? ")
     (ru . "Выбран набор с удалёнными файлами: %d. Продолжить? ")
     (fr . "La sélection inclut %d fichier(s) distant(s). Continuer ? ")
     (de . "Auswahl enthält %d Remote-Datei(en). Fortfahren? ")
     (es . "La selección incluye %d archivo(s) remoto(s). ¿Continuar? ")
     (uk . "Вибірка містить %d віддалений файл(и). Продовжити?")
     (be . "Выбар уключае %d аддалены файл(ы). Працягнуць?")
     (zh . "所选包含 %d 个远程文件。继续？")
     (ja . "選択に %d 個のリモートファイルが含まれます。続行しますか？"))
    (:warn-remote-current
     (en . "Current file is remote (TRAMP). Proceed? ")
     (ru . "Текущий файл — удалённый (TRAMP). Продолжить? ")
     (fr . "Le fichier actuel est distant (TRAMP). Continuer ? ")
     (de . "Aktuelle Datei ist remote (TRAMP). Fortfahren? ")
     (es . "El archivo actual es remoto (TRAMP). ¿Continuar? ")
     (uk . "Поточний файл є віддаленим (TRAMP). Продовжити?")
     (be . "Цяперашні файл з’яўляецца аддаленым (TRAMP). Працягнуць?")
     (zh . "当前文件为远程 (TRAMP)。继续？")
     (ja . "現在のファイルはリモート (TRAMP) です。続行しますか？"))
    (:added-selection
     (en . "Added selection to context")
     (ru . "Выделение добавлено в контекст")
     (fr . "Sélection ajoutée au contexte")
     (de . "Auswahl zum Kontext hinzugefügt")
     (es . "Selección añadida al contexto")
     (uk . "Виділення додано до контексту")
     (be . "Выдзяленне дададзена ў кантэкст")
     (zh . "已将选区添加到上下文")
     (ja . "選択範囲をコンテキストに追加しました"))
    (:added-buffer
     (en . "Added buffer to context")
     (ru . "Буфер добавлен в контекст")
     (fr . "Tampon ajouté au contexte")
     (de . "Puffer zum Kontext hinzugefügt")
     (es . "Búfer agregado al contexto")
     (uk . "Буфер додано до контексту")
     (be . "Буфер дададзены ў кантэкст")
     (zh . "已将缓冲区添加到上下文")
     (ja . "バッファをコンテキストに追加しました"))

    ;; Help window / sidebar help
    (:help-title
     (en . "Context Navigator — Help")
     (ru . "Context Navigator — Справка"))
    (:help-global-title
     (en . "Global keys")
     (ru . "Глобальные клавиши"))
    (:help-global-summary
     (en . "The following bindings are available in the sidebar buffer.")
     (ru . "Следующие клавиши доступны в буфере боковой панели."))
    (:help-groups-summary
     (en . "In Groups mode additional keys are available: a add, r rename, c duplicate, d delete.")
     (ru . "В режиме групп доступны дополнительные клавиши: a — создать, r — переименовать, c — дублировать, d — удалить."))

    ;; Per-command help lines (descriptions only; keys are shown dynamically)
    (:help-next-item
     (en . "Next item")
     (ru . "Следующий элемент"))
    (:help-previous-item
     (en . "Previous item")
     (ru . "Предыдущий элемент"))
    (:help-activate
     (en . "Activate/open")
     (ru . "Открыть/активировать"))
    (:help-preview
     (en . "Preview in other window")
     (ru . "Предпросмотр в другом окне"))
    (:help-toggle-gptel
     (en . "Toggle include/exclude item")
     (ru . "Включить/исключить элемент"))
    (:help-delete
     (en . "Delete from model")
     (ru . "Удалить из модели"))
    (:help-refresh
     (en . "Refresh view")
     (ru . "Обновить список"))
    (:help-go-up
     (en . "Back to groups/items")
     (ru . "Назад к группам/элементам"))
    (:help-group-create
     (en . "Create group")
     (ru . "Создать группу"))
    (:help-group-rename
     (en . "Rename group")
     (ru . "Переименовать группу"))
    (:help-group-duplicate
     (en . "Duplicate group")
     (ru . "Дублировать группу"))
    (:help-toggle-push
     (en . "Toggle push→gptel")
     (ru . "Переключить отправку→gptel"))
    (:help-toggle-auto
     (en . "Toggle auto-project")
     (ru . "Переключить авто‑проект"))
    (:help-open-all
     (en . "Open all context buffers")
     (ru . "Открыть все буферы контекста"))
    (:help-push-now
     (en . "Push now to gptel")
     (ru . "Отправить сейчас в gptel"))
    (:help-clear-group
     (en . "Clear current group")
     (ru . "Очистить текущую группу"))
    (:help-clear-gptel
     (en . "Clear gptel context")
     (ru . "Очистить контекст gptel"))
    (:help-quit
     (en . "Close sidebar")
     (ru . "Закрыть боковую панель"))
    (:help-help
     (en . "Show this help")
     (ru . "Показать эту справку"))

    ;; ... (оставить остальные блоки без изменений, дополнив их недостающими переводами)
    )
  "Translation dictionary for minimal UI strings.")

(defun context-navigator-i18n--lang-from-locale ()
  "Guess language code from environment locale."
  (let* ((lang (or (getenv "LANG") (getenv "LC_ALL") (getenv "LC_MESSAGES") "")))
    (cond
     ((string-match-p "\\`ru" lang) 'ru)
     ((string-match-p "\\`fr" lang) 'fr)
     ((string-match-p "\\`de" lang) 'de)
     ((string-match-p "\\`es" lang) 'es)
     ((string-match-p "\\`uk" lang) 'uk)
     ((string-match-p "\\`be" lang) 'be)
     ((string-match-p "\\`zh" lang) 'zh)
     ((string-match-p "\\`ja" lang) 'ja)
     (t 'en))))

(defun context-navigator-i18n--lang ()
  "Return current language symbol."
  (if (eq context-navigator-language 'auto)
      (context-navigator-i18n--lang-from-locale)
    context-navigator-language))

(defun context-navigator-i18n (key)
  "Return localized string for KEY."
  (let* ((lang (context-navigator-i18n--lang))
         (row (assoc key context-navigator-i18n--dict))
         (val (and row (cdr (assq lang (cdr row))))))
    (or val
        (and row (cdr (assq 'en (cdr row))))
        (format "%s" key))))

(provide 'context-navigator-i18n)
;;; context-navigator-i18n.el ends here
