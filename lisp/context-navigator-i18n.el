;;; context-navigator-i18n.el --- Minimal i18n for Context Navigator -*- lexical-binding: t; -*-

;; SPDX-License-Identifier: MIT

;;; Commentary:
;; Lightweight translation table and resolver.
;; Languages: EN, RU, FR, DE, ES, UK, BE, ZH, JA. Default = from locale or EN.
;; Note: Where a specific translation is missing, we gracefully fall back to EN.

;;; Code:

(require 'subr-x)

(defgroup context-navigator-i18n nil
  "Internationalization settings for Context Navigator."
  :group 'context-navigator)

(defcustom context-navigator-language 'auto
  "Language to use for UI strings: one of (auto en ru fr de es uk be zh ja)."
  :type '(choice (const :tag "Auto" auto)
                 (const en) (const ru) (const fr) (const de) (const es)
                 (const uk) (const be) (const zh) (const ja))
  :group 'context-navigator-i18n)

(defconst context-navigator-i18n--dict
  '((:add-from-text
     (en . "Add files from text")
     (ru . "Добавить файлы из текста")
     (fr . "Ajouter des fichiers depuis le texte")
     (de . "Dateien aus Text hinzufügen")
     (es . "Añadir archivos desde el texto")
     (uk . "Додати файли з тексту")
     (be . "Дадаць файлы з тэксту")
     (zh . "从文本添加文件")
     (ja . "テキストからファイルを追加"))
    (:add-from-minibuf
     (en . "Add files from minibuffer (mask)")
     (ru . "Добавить файлы из minibuffer (маска)")
     (fr . "Ajouter des fichiers depuis le minibuffer (masque)")
     (de . "Dateien aus dem Minibuffer hinzufügen (Maske)")
     (es . "Añadir archivos desde minibuffer (máscara)")
     (uk . "Додати файли з minibuffer (маска)")
     (be . "Дадаць файлы з minibuffer (маска)")
     (zh . "从 minibuffer 添加文件（通配）")
     (ja . "ミニバッファからファイルを追加（マスク）"))
    ;; Transient menu: sections and items
    (:tr-panel
     (en . "Panel/Project")
     (ru . "Панель/Проект")
     (fr . "Panneau/Projet")
     (de . "Panel/Projekt")
     (es . "Panel/Proyecto")
     (uk . "Панель/Проєкт")
     (be . "Панэль/Праект")
     (zh . "面板/项目")
     (ja . "パネル/プロジェクト"))
    (:tr-context
     (en . "Context/Groups")
     (ru . "Контекст/Группы")
     (fr . "Contexte/Groupes")
     (de . "Kontext/Gruppen")
     (es . "Contexto/Grupos")
     (uk . "Контекст/Групи")
     (be . "Кантэкст/Групы")
     (zh . "上下文/分组")
     (ja . "コンテキスト/グループ"))
    (:tr-actions
     (en . "Actions")
     (ru . "Действия")
     (fr . "Actions")
     (de . "Aktionen")
     (es . "Acciones")
     (uk . "Дії")
     (be . "Дзеянні")
     (zh . "操作")
     (ja . "アクション"))
    (:tr-gptel
     (en . "GPTel")
     (ru . "GPTel")
     (fr . "GPTel")
     (de . "GPTel")
     (es . "GPTel")
     (uk . "GPTel")
     (be . "GPTel")
     (zh . "GPTel")
     (ja . "GPTel"))
    (:tr-toggle-sidebar
     (en . "Toggle sidebar")
     (ru . "Переключить боковую панель")
     (fr . "Basculer le panneau latéral")
     (de . "Seitenleiste umschalten")
     (es . "Alternar barra lateral")
     (uk . "Перемкнути бічну панель")
     (be . "Пераключыць бакавую панэль")
     (zh . "切换侧边栏")
     (ja . "サイドバーの切り替え"))
    (:tr-switch-project
     (en . "Switch to current project")
     (ru . "Переключиться на текущий проект")
     (fr . "Basculer vers le projet courant")
     (de . "Zum aktuellen Projekt wechseln")
     (es . "Cambiar al proyecto actual")
     (uk . "Перейти до поточного проєкту")
     (be . "Перайсці да бягучага праекта")
     (zh . "切换到当前项目")
     (ja . "現在のプロジェクトに切り替え"))
    (:tr-groups-list
     (en . "Groups list")
     (ru . "Список групп")
     (fr . "Liste des groupes")
     (de . "Gruppenliste")
     (es . "Lista de grupos")
     (uk . "Список груп")
     (be . "Спіс груп")
     (zh . "分组列表")
     (ja . "グループ一覧"))
    (:tr-unload
     (en . "Unload context")
     (ru . "Выгрузить контекст")
     (fr . "Décharger le contexte")
     (de . "Kontext entladen")
     (es . "Descargar contexto")
     (uk . "Вивантажити контекст")
     (be . "Выгрузіць кантэкст")
     (zh . "卸载上下文")
     (ja . "コンテキストをアンロード"))
    ;; Transient/menu small labels introduced for better i18n coverage
    (:tr-display-mode
     (en . "Display Mode")
     (ru . "Режим отображения"))
    (:tr-multifile
     (en . "Multifile view")
     (ru . "Мультифайл просмотр"))
    (:tr-navigate
     (en . "Navigate")
     (ru . "Навигация"))
    (:tr-items
     (en . "Items")
     (ru . "Элементы"))
    (:tr-groups
     (en . "Groups")
     (ru . "Группы"))
    (:tr-session
     (en . "Session")
     (ru . "Сессия"))
    (:tr-help-exit
     (en . "Help / Exit")
     (ru . "Справка / Выход"))
    (:tr-add-universal
     (en . "Add (universal)")
     (ru . "Добавить (универсально)")
     (fr . "Ajouter (universel)")
     (de . "Hinzufügen (universell)")
     (es . "Añadir (universal)")
     (uk . "Додати (універсально)")
     (be . "Дадаць (універсальна)")
     (zh . "添加（通用）")
     (ja . "追加（汎用）"))
    (:tr-open-buffers
     (en . "Open buffers (background)")
     (ru . "Открыть буферы (в фоне)")
     (fr . "Ouvrir les tampons (arrière-plan)")
     (de . "Puffer öffnen (Hintergrund)")
     (es . "Abrir búferes (segundo plano)")
     (uk . "Відкрити буфери (у фоні)")
     (be . "Адкрыць буферы (у фоне)")
     (zh . "打开缓冲区（后台）")
     (ja . "バッファを開く（バックグラウンド）"))
    (:select-by-name
     (en . "Select by name")
     (ru . "Выбрать по имени"))
    (:tr-toggle-push
     (en . "Toggle push→gptel")
     (ru . "Переключить отправку→gptel")
     (fr . "Basculer l’envoi→gptel")
     (de . "Push→gptel umschalten")
     (es . "Alternar envío→gptel")
     (uk . "Перемкнути надсилання→gptel")
     (be . "Пераключыць адправу→gptel")
     (zh . "切换推送→gptel")
     (ja . "push→gptel を切り替え"))
    (:tr-toggle-auto
     (en . "Toggle auto-project")
     (ru . "Переключить авто-проект")
     (fr . "Basculer auto-projet")
     (de . "Auto-Projekt umschalten")
     (es . "Alternar auto-proyecto")
     (uk . "Перемкнути авто-проєкт")
     (be . "Пераключыць аўта-праект")
     (zh . "切换自动项目")
     (ja . "自動プロジェクト切替"))
    (:tr-push-now
     (en . "Push now")
     (ru . "Отправить сейчас")
     (fr . "Envoyer maintenant")
     (de . "Jetzt senden")
     (es . "Enviar ahora")
     (uk . "Надіслати зараз")
     (be . "Адправіць зараз")
     (zh . "立即推送")
     (ja . "今すぐプッシュ"))
    ;; Logs (transient section)
    (:tr-logs
     (en . "Logs")
     (ru . "Логи"))
    (:tr-logs-toggle
     (en . "Toggle logs")
     (ru . "Переключить лог"))
    (:tr-logs-open
     (en . "Open logs")
     (ru . "Открыть логи"))
    (:tr-logs-clear
     (en . "Clear logs")
     (ru . "Очистить логи"))
    (:tr-logs-set-level
     (en . "Set level")
     (ru . "Установить уровень"))
    (:tr-logs-toggle-file
     (en . "Toggle file log")
     (ru . "Переключить файл-лог"))
    (:mask-minibuf-prompt
     (en . "File(s) or mask (glob)")
     (ru . "Файл(ы) или маска (glob)")
     (fr . "Fichier(s) ou masque (glob)")
     (de . "Datei(en) oder Maske (Glob)")
     (es . "Archivo(s) o máscara (glob)")
     (uk . "Файл(и) або маска (glob)")
     (be . "Файл(ы) або маска (glob)")
     (zh . "文件或通配符（glob）")
     (ja . "ファイルまたはマスク（glob）"))
    (:mask-nothing-found
     (en . "Nothing matched by mask: %s")
     (ru . "Ничего не найдено по маске: %s")
     (fr . "Aucune correspondance pour le masque : %s")
     (de . "Keine Übereinstimmung für Maske: %s")
     (es . "No hay coincidencias para la máscara: %s")
     (uk . "Нічого не знайдено за маскою: %s")
     (be . "Нічога не знойдзена па масцы: %s")
     (zh . "通配符未匹配任何内容：%s")
     (ja . "マスクに一致するものはありません: %s"))
    (:mask-remote-unsupported
     (en . "TRAMP mask expansion is disabled (pattern: %s)")
     (ru . "Раскрытие масок по TRAMP отключено (pattern: %s)")
     (fr . "L’expansion des masques TRAMP est désactivée (motif : %s)")
     (de . "TRAMP-Maskenerweiterung ist deaktiviert (Muster: %s)")
     (es . "La expansión de máscaras TRAMP está desactivada (patrón: %s)")
     (uk . "Розкриття масок TRAMP вимкнено (шаблон: %s)")
     (be . "Разгортванне масак TRAMP адключана (узор: %s)")
     (zh . "已禁用 TRAMP 通配展开（模式：%s）")
     (ja . "TRAMP のマスク展開は無効です（パターン: %s）"))
    (:mask-parse-error
     (en . "Invalid mask: %s")
     (ru . "Некорректная маска: %s")
     (fr . "Masque invalide : %s")
     (de . "Ungültige Maske: %s")
     (es . "Máscara inválida: %s")
     (uk . "Некоректна маска: %s")
     (be . "Няправільная маска: %s")
     (zh . "无效的通配符：%s")
     (ja . "無効なマスク: %s"))
    (:mask-mixed-input
     (en . "Mixed input: ignoring mask(s), adding explicit names")
     (ru . "Смешанный ввод: игнорируем маску(и), добавляем явные имена")
     (fr . "Masque ou liste de noms, pas les deux. Scindez l’opération.")
     (de . "Entweder Maske oder Namensliste. Vorgang aufteilen.")
     (es . "Máscara o lista de nombres. Divida la operación.")
     (uk . "Або маска, або список імен. Розділіть операцію.")
     (be . "Або маска, або спіс імёнаў. Падзяліце аперацыю.")
     (zh . "要么使用通配符，要么提供名称列表，请分开操作。")
     (ja . "マスクか名前の一覧のいずれかにしてください。操作を分けてください。"))
    (:mask-only-one
     (en . "Only one mask is supported at a time")
     (ru . "Поддерживается только одна маска за раз")
     (fr . "Une seule masque à la fois est supportée")
     (de . "Es wird jeweils nur eine Maske unterstützt")
     (es . "Solo se admite una máscara a la vez")
     (uk . "Підтримується лише одна маска за раз")
     (be . "Падтрымліваецца толькі адна маска за раз")
     (zh . "一次只支持一个通配符")
     (ja . "同時にサポートされるマスクは1つだけです"))
    (:mask-dirs-only
     (en . "Mask matched only directories — files not found.")
     (ru . "Маска совпала только с каталогами — файлы не найдены.")
     (fr . "Le masque ne correspond qu’aux répertoires — aucun fichier trouvé.")
     (de . "Maske passt nur auf Verzeichnisse — keine Dateien gefunden.")
     (es . "La máscara solo coincide con directorios — no se encontraron archivos.")
     (uk . "Маска збіглася лише з каталогами — файлів не знайдено.")
     (be . "Маска супала толькі з каталогамі — файлы не знойдзены.")
     (zh . "通配符仅匹配到目录——未找到文件。")
     (ja . "マスクはディレクトリにのみ一致しました — ファイルは見つかりません。"))
    (:resolve-start
     (en . "Resolving names...")
     (ru . "Идёт сопоставление...")
     (fr . "Résolution des noms…")
     (de . "Auflösen der Namen…")
     (es . "Resolviendo nombres…")
     (uk . "Відбувається зіставлення…")
     (be . "Ідзе супастаўленне…")
     (zh . "正在解析名称…")
     (ja . "名前を解決中…"))
    (:resolve-summary
     (en . "Resolved %d file(s); skipped: too big=%d, non-regular=%d")
     (ru . "Найдено %d файл(ов); пропущено: слишком большие=%d, нерегулярные=%d")
     (fr . "Résolu %d fichier(s); ignoré : trop gros=%d, non régulier=%d")
     (de . "%d Datei(en) aufgelöst; übersprungen: zu groß=%d, nicht regulär=%d")
     (es . "Resueltos %d archivo(s); omitidos: demasiado grandes=%d, no regulares=%d")
     (uk . "Вирішено %d файл(ів); пропущено: надто великі=%d, нерегулярні=%d")
     (be . "Вырашана %d файл(аў); прапушчана: занадта вялікія=%d, нярэгулярныя=%d")
     (zh . "已解析 %d 个文件；跳过：过大=%d，非普通=%d")
     (ja . "%d 個のファイルを解決; スキップ: 大きすぎ=%d, 非正規=%d"))
    (:ambiguous-found
     (en . "Ambiguities detected:")
     (ru . "Обнаружены неоднозначности:")
     (fr . "Ambiguïtés détectées :")
     (de . "Mehrdeutigkeiten erkannt:")
     (es . "Ambigüedades detectadas:")
     (uk . "Виявлено неоднозначності:")
     (be . "Выяўлены двухсэнсоўнасці:")
     (zh . "检测到歧义：")
     (ja . "あいまいさが検出されました:"))
    (:unresolved-found
     (en . "Unresolved:")
     (ru . "Не удалось разрешить:")
     (fr . "Non résolus :")
     (de . "Ungelöst:")
     (es . "No resuelto:")
     (uk . "Нерозв’язано:")
     (be . "Ня вырашана:")
     (zh . "未解析：")
     (ja . "未解決:"))
    (:text-no-tokens
     (en . "No paths found in selection")
     (ru . "В выделении не обнаружены пути")
     (fr . "Aucun chemin trouvé dans la sélection")
     (de . "Keine Pfade in der Auswahl gefunden")
     (es . "No se encontraron rutas en la selección")
     (uk . "У виділенні не знайдено шляхів")
     (be . "У вылучэнні не знойдзена шляхоў")
     (zh . "选区中未发现路径")
     (ja . "選択範囲にパスが見つかりません"))
    (:too-many
     (en . "Too many files (%d), max %d — operation cancelled")
     (ru . "Слишком много файлов (%d), максимум %d — операция отменена")
     (fr . "Trop de fichiers (%d), max %d — opération annulée")
     (de . "Zu viele Dateien (%d), max. %d — Vorgang abgebrochen")
     (es . "Demasiados archivos (%d), máximo %d — operación cancelada")
     (uk . "Занадто багато файлів (%d), максимум %d — операцію скасовано")
     (be . "Занадта шмат файлаў (%d), максімум %d — аперацыя скасавана")
     (zh . "文件过多（%d），最多 %d — 操作已取消")
     (ja . "ファイルが多すぎます（%d）、最大 %d — 操作は中止されました"))
    (:remote-warning
     (en . "Remote file(s) will be added: %d. Proceed? ")
     (ru . "Будут добавлены удалённые файлы: %d. Продолжить? ")
     (fr . "Des fichiers distants seront ajoutés : %d. Continuer ? ")
     (de . "%d Remote-Datei(en) werden hinzugefügt. Fortfahren? ")
     (es . "Se añadirán archivos remotos: %d. ¿Continuar? ")
     (uk . "Буде додано віддалені файли: %d. Продовжити? ")
     (be . "Будуць дададзены аддаленыя файлы: %d. Працягнуць? ")
     (zh . "将添加远程文件：%d。是否继续？")
     (ja . "リモートファイルが追加されます: %d。続行しますか？"))
    (:added-files-limited
     (en . "Added %d file(s) (limited)")
     (ru . "Добавлено %d файл(ов) (с ограничением)")
     (fr . "Ajout de %d fichier(s) (limité)")
     (de . "%d Datei(en) hinzugefügt (begrenzt)")
     (es . "Se agregaron %d archivo(s) (limitado)")
     (uk . "Додано %d файл(ів) (обмежено)")
     (be . "Дададзена %d файл(аў) (абмежаванне)")
     (zh . "已添加 %d 个文件（受限）")
     (ja . "%d 個のファイルを追加（制限あり）"))
    (:push-now
     (en . "push now")
     (ru . "в gptel")
     (fr . "pousser maintenant")
     (de . "jetzt senden")
     (es . "enviar ahora")
     (uk . "надіслати зараз")
     (be . "адправіць зараз")
     (zh . "立即推送")
     (ja . "今すぐプッシュ"))
    ;; Core/UI runtime messages (general)
    (:display-mode-changed
     (en . "Navigator display mode: %s")
     (ru . "Режим отображения Navigator: %s"))
    (:gptel-not-available
     (en . "gptel not available — skipping push (Navigator works fine without it)")
     (ru . "gptel недоступен — пропускаем отправку (Navigator работает и без него)"))
    (:pushed-items
     (en . "Pushed %d items to gptel")
     (ru . "Отправлено в gptel: %d элементов"))
    (:pushed-items-done
     (en . "Pushed %d items to gptel in %s")
     (ru . "Отправлено в gptel: %d элементов за %s"))
    (:push-state
     (en . "Push→gptel: %s")
     (ru . "Отправка→gptel: %s"))
    (:auto-project-state
     (en . "Auto-project: %s")
     (ru . "Авто-проект: %s"))
    (:on
     (en . "ON")
     (ru . "ВКЛ"))
    (:off
     (en . "OFF")
     (ru . "ВЫКЛ"))
    (:removed-dead-items
     (en . "Removed %d dead buffer item(s)")
     (ru . "Удалено неактивных буферов: %d"))
    (:gptel-cleared
     (en . "gptel context cleared; all items disabled")
     (ru . "Контекст gptel очищен; все элементы выключены"))
    (:context-saved
     (en . "Context saved to %s")
     (ru . "Контекст сохранён в %s"))
    (:context-save-failed
     (en . "Failed to save context")
     (ru . "Не удалось сохранить контекст"))
    (:no-active-group
     (en . "No active group — open groups list to select one")
     (ru . "Нет активной группы — откройте список групп для выбора"))
    (:cleared-current-group
     (en . "Cleared current group's context (%s)")
     (ru . "Контекст текущей группы очищен (%s)"))
    (:context-unloaded
     (en . "Context unloaded (global mode)")
     (ru . "Контекст выгружен (глобальный режим)"))
    (:no-items-in-context
     (en . "No items in the current context.")
     (ru . "Нет элементов в текущем контексте."))
    (:select-item-prompt
     (en . "Context item: ")
     (ru . "Элемент контекста: "))
    (:unknown-item-type
     (en . "Unknown item type")
     (ru . "Неизвестный тип элемента"))
    (:restarted
     (en . "Context Navigator: restarted")
     (ru . "Context Navigator: перезапущен"))
    (:no-group-at-point
     (en . "No group at point")
     (ru . "Нет группы под курсором"))
    (:press-h-open-groups-first
     (en . "Press h to open groups list first")
     (ru . "Нажмите h, чтобы открыть список групп"))
    (:no-interactive-elements
     (en . "No interactive elements")
     (ru . "Нет интерактивных элементов"))
    (:opened-context-buffers-bg
     (en . "Opened %d context buffer(s) in background")
     (ru . "Открыто буферов контекста в фоне: %d"))
    (:closed-context-buffers
     (en . "Closed %d context buffer(s)")
     (ru . "Закрыто буферов контекста: %d"))
    (:deleted-from-model
     (en . "Deleted from model: %s")
     (ru . "Удалено из модели: %s"))
    (:group-file-unreadable-hint
     (en . "Context Navigator: group '%s' file looks unreadable. Press h to open groups, then d to delete.")
     (ru . "Context Navigator: файл группы '%s' выглядит нечитаемым. Нажмите h, чтобы открыть группы, затем d, чтобы удалить."))
    ;; Razor (Occam) -----------------------------------------------------------
    (:tr-razor
     (en . "Occam filter (org)")
     (ru . "Бритва Оккама (org)")
     (fr . "Filtre d’Occam (org)")
     (de . "Ockham-Filter (org)")
     (es . "Filtro de Occam (org)")
     (uk . "Бритва Оккама (org)")
     (be . "Брытва Оккама (org)")
     (zh . "奥卡姆过滤器（org）")
     (ja . "オッカムフィルタ（org）"))
    (:razor-start
     (en . "Occam: analyzing context…")
     (ru . "Бритва Оккама: анализ контекста…")
     (fr . "Occam : analyse du contexte…")
     (de . "Ockham: Kontext wird analysiert…")
     (es . "Occam: analizando el contexto…")
     (uk . "Бритва Оккама: аналіз контексту…")
     (be . "Брытва Оккама: аналіз кантэксту…")
     (zh . "奥卡姆：分析上下文…")
     (ja . "オッカム：コンテキストを分析中…"))
    (:razor-remote-warn
     (en . "Remote item(s) content will be sent: %d. Proceed? ")
     (ru . "Будут отправлены удалённые элементы: %d. Продолжить? ")
     (fr . "Des éléments distants seront envoyés : %d. Continuer ? ")
     (de . "Es werden entfernte Elemente gesendet: %d. Fortfahren? ")
     (es . "Se enviarán elementos remotos: %d. ¿Continuar? ")
     (uk . "Будуть надіслані віддалені елементи: %d. Продовжити? ")
     (be . "Будуць адасланы аддаленыя элементы: %d. Працягнуць? ")
     (zh . "将发送远程元素：%d。继续？")
     (ja . "リモート項目が送信されます: %d。続行しますか？"))
    (:razor-large-warn
     (en . "Large payload (~%s). Proceed? ")
     (ru . "Объём данных большой (~%s). Продолжить? ")
     (fr . "Charge utile volumineuse (~%s). Continuer ? ")
     (de . "Große Nutzlast (~%s). Fortfahren? ")
     (es . "Carga grande (~%s). ¿Continuar? ")
     (uk . "Великий обсяг даних (~%s). Продовжити? ")
     (be . "Вялікі аб’ём даных (~%s). Працягнуць? ")
     (zh . "数据量较大（~%s）。是否继续？")
     (ja . "大きなペイロード（~%s）。続行しますか？"))
    (:razor-parse-error
     (en . "Model response is not strict JSON. Retry?")
     (ru . "Ответ модели не в формате JSON. Повторить?")
     (fr . "La réponse du modèle n’est pas un JSON strict. Réessayer ?")
     (de . "Antwort ist kein striktes JSON. Erneut versuchen?")
     (es . "La respuesta no es JSON estricto. ¿Reintentar?")
     (uk . "Відповідь не є строгим JSON. Повторити?")
     (be . "Адказ не з’яўляецца строгім JSON. Паўтарыць?")
     (zh . "响应不是严格 JSON。重试？")
     (ja . "応答が厳密な JSON ではありません。再試行しますか？"))
    (:razor-abort-remote
     (en . "Aborted (user declined sending remote item(s): %d)")
     (ru . "Отменено (пользователь отменил отправку удалённых элементов: %d)"))
    (:razor-abort-large
     (en . "Aborted (user declined large payload ~%s)")
     (ru . "Отменено (пользователь отменил отправку большого объёма данных ~%s)"))
    (:razor-abort-parse
     (en . "Aborted (model response not JSON)")
     (ru . "Отменено (ответ модели не JSON)"))
    (:razor-abort-preview
     (en . "Aborted (preview canceled)")
     (ru . "Отменено (применение отменено в предпросмотре)"))
    (:razor-abort-empty
     (en . "Aborted (empty keep set not confirmed)")
     (ru . "Отменено (пустой набор не подтверждён)"))
    (:razor-empty-confirm
     (en . "Empty keep set. Disable all?")
     (ru . "Пустой список. Выключить всё?")
     (fr . "Liste vide. Tout désactiver ?")
     (de . "Leere Auswahl. Alles deaktivieren?")
     (es . "Conjunto vacío. ¿Desactivar todo?")
     (uk . "Порожній список. Вимкнути все?")
     (be . "Пусты спіс. Адключыць усё?")
     (zh . "空集。全部禁用？")
     (ja . "空の選択です。すべて無効にしますか？"))
    (:razor-preview-title
     (en . "Will keep %d of %d item(s). Apply?")
     (ru . "Будет оставлено %d из %d элементов. Применить?")
     (fr . "Conserver %d sur %d élément(s). Appliquer ?")
     (de . "%d von %d Element(en) werden beibehalten. Anwenden?")
     (es . "Se conservarán %d de %d elemento(s). ¿Aplicar?")
     (uk . "Буде залишено %d з %d елементів. Застосувати?")
     (be . "Застанецца %d з %d элементаў. Ужыць?")
     (zh . "将保留 %d/%d 项。应用？")
     (ja . "%d/%d 項目を保持します。適用しますか？"))
    (:razor-done
     (en . "Occam applied: kept %d of %d")
     (ru . "Бритва Оккама применена: оставлено %d из %d")
     (fr . "Occam appliqué : %d sur %d conservé(s)")
     (de . "Ockham angewendet: %d von %d behalten")
     (es . "Occam aplicado: se mantuvieron %d de %d")
     (uk . "Бритва Оккама застосована: залишено %d з %d")
     (be . "Брытва Оккама ўжыта: засталося %d з %d")
     (zh . "已应用奥卡姆：保留 %d/%d")
     (ja . "オッカム適用：%d/%d を保持"))
    (:razor-parse-flex-stats
     (en . "Matched %d of %d tokens; ambiguous %d; unknown %d")
     (ru . "Распознано %d из %d токенов; неоднозначных %d; неизвестных %d"))
    (:razor-ambiguous-policy-skip
     (en . "Some tokens matched multiple items and were skipped")
     (ru . "Некоторые токены совпали с несколькими элементами и были пропущены"))
    (:razor-no-tokens
     (en . "Could not extract any identifiers from the model response")
     (ru . "Не удалось извлечь идентификаторы из ответа модели"))
    (:razor-fallback-json-used
     (en . "JSON detected inside non-JSON response; using it")
     (ru . "В ответе обнаружен JSON; используем его"))
    (:razor-parse-mode
     (en . "Parse mode: %s")
     (ru . "Режим парсинга: %s"))
    (:razor-retry
     (en . "Retry?")
     (ru . "Повторить?"))
    (:razor-undo
     (en . "Undo")
     (ru . "Отменить")
     (fr . "Annuler")
     (de . "Rückgängig")
     (es . "Deshacer")
     (uk . "Скасувати")
     (be . "Адмяніць")
     (zh . "撤销")
     (ja . "元に戻す"))
    (:razor-redo
     (en . "Redo")
     (ru . "Повторить")
     (fr . "Rétablir")
     (de . "Wiederholen")
     (es . "Rehacer")
     (uk . "Повторити")
     (be . "Паўтарыць")
     (zh . "重做")
     (ja . "やり直し"))
    ;; Razor runtime/system messages (additional)
    (:razor-only-org-mode
     (en . "Occam filter is available only in org-mode buffers")
     (ru . "Бритва Оккама доступна только в буферах org-mode"))
    (:razor-no-enabled-items
     (en . "No enabled items in current group")
     (ru . "Нет включённых элементов в текущей группе"))
    (:razor-error
     (en . "Razor error: %S")
     (ru . "Ошибка Razor: %S"))
    (:history-not-available
     (en . "History not available")
     (ru . "История недоступна"))
    (:nothing-to-undo
     (en . "Nothing to undo")
     (ru . "Нечего отменять"))
    (:nothing-to-redo
     (en . "Nothing to redo")
     (ru . "Нечего повторять"))
    (:clear-group
     (en . "clear group")
     (ru . "очистить группу")
     (fr . "effacer le groupe")
     (de . "Gruppe leeren")
     (es . "vaciar grupo")
     (uk . "очистити групу")
     (be . "ачысціць групу")
     (zh . "清空分组")
     (ja . "グループをクリア"))
    (:clear-group-tip
     (en . "Clear current group's items (E)")
     (ru . "Очистить элементы текущей группы (E)")
     (fr . "Effacer les éléments du groupe courant (E)")
     (de . "Aktuelle Gruppenobjekte leeren (E)")
     (es . "Vaciar elementos del grupo actual (E)")
     (uk . "Очистити елементи поточної групи (E)")
     (be . "Ачысціць элементы бягучай групы (E)")
     (zh . "清空当前分组的条目（E）")
     (ja . "現在のグループの項目をクリア（E）"))
    (:clear-gptel
     (en . "clear gptel")
     (ru . "очистить gptel")
     (fr . "effacer gptel")
     (de . "gptel leeren")
     (es . "limpiar gptel")
     (uk . "очистити gptel")
     (be . "ачысціць gptel")
     (zh . "清空 gptel")
     (ja . "gptel をクリア"))
    (:global-context
     (en . "Global context")
     (ru . "Глобальный контекст")
     (fr . "Contexte global")
     (de . "Globaler Kontext")
     (es . "Contexto global")
     (uk . "Глобальний контекст")
     (be . "Глабальны кантэкст")
     (zh . "全局上下文")
     (ja . "グローバルコンテキスト"))
    (:groups
     (en . "Groups")
     (ru . "Группы")
     (fr . "Groupes")
     (de . "Gruppen")
     (es . "Grupos")
     (uk . "Групи")
     (be . "Групы")
     (zh . "分组")
     (ja . "グループ"))
    (:group-label
     (en . "group: %s")
     (ru . "группа: %s")
     (fr . "groupe: %s")
     (de . "Gruppe: %s")
     (es . "grupo: %s")
     (uk . "група: %s")
     (be . "група: %s")
     (zh . "分组: %s")
     (ja . "グループ: %s"))
    ;; Groups CRUD/prompts (new)
    (:group-created
     (en . "Created group: %s (%s)")
     (ru . "Создана группа: %s (%s)"))
    (:group-rename-prompt
     (en . "New name for %s: ")
     (ru . "Новое имя для %s: "))
    (:group-renamed
     (en . "Renamed group: %s → %s (%s)")
     (ru . "Переименована группа: %s → %s (%s)"))
    (:group-delete-confirm
     (en . "Delete group '%s'? ")
     (ru . "Удалить группу '%s'? "))
    (:group-deleted
     (en . "Deleted group: %s")
     (ru . "Удалена группа: %s"))
    (:group-duplicate-prompt
     (en . "New name for duplicate of %s: ")
     (ru . "Новое имя для копии %s: "))
    (:group-duplicated
     (en . "Duplicated group %s → %s (%s)")
     (ru . "Дублирована группа %s → %s (%s)"))
    (:group-create-prompt
     (en . "New group name: ")
     (ru . "Новое имя группы: "))
    (:cannot-rename-default
     (en . "Cannot rename 'default'")
     (ru . "Нельзя переименовать 'default'"))
    (:cannot-delete-default
     (en . "Cannot delete 'default'")
     (ru . "Нельзя удалить 'default'"))
    (:invalid-name
     (en . "Invalid name")
     (ru . "Некорректное имя"))
    (:no-group-selected
     (en . "No group selected")
     (ru . "Группа не выбрана"))
    (:no-enabled-in-selection
     (en . "No enabled items in selected groups")
     (ru . "Нет включённых элементов в выбранных группах"))
    (:no-items-in-selection
     (en . "No items in selected groups")
     (ru . "Нет элементов в выбранных группах"))
    (:mg-toggle-locked
     (en . "In multi-group mode item toggling is disabled")
     (ru . "В режиме мультигрупп переключение элементов отключено"))
    (:autopush-disabled-threshold
     (en . "Auto-push disabled: %d enabled items (> %d). Use manual Push (P).")
     (ru . "Автопуш отключён: включённых элементов %d (> %d). Используйте ручной Push (P)."))
    (:group-edit-desc-default
     (en . "Edit description (default %s): ")
     (ru . "Изменить описание (по умолчанию %s): "))
    (:group-edit-desc-for
     (en . "Description for %s (empty to clear): ")
     (ru . "Описание для %s (пусто — очистить): "))
    (:group-desc-cleared
     (en . "Description cleared for %s")
     (ru . "Описание очищено для %s"))
    (:group-desc-updated
     (en . "Description updated for %s")
     (ru . "Описание обновлено для %s"))
    (:loading
     (en . "Loading…")
     (ru . "Загрузка…")
     (fr . "Chargement…")
     (de . "Laden…")
     (es . "Cargando…")
     (uk . "Завантаження…")
     (be . "Загрузка…")
     (zh . "加载中…")
     (ja . "読み込み中…"))
    (:no-groups
     (en . "No groups (press a to add)")
     (ru . "Нет групп (нажмите a для добавления)")
     (fr . "Aucun groupe (appuyez sur a pour ajouter)")
     (de . "Keine Gruppen (drücken Sie a zum Hinzufügen)")
     (es . "No hay grupos (presione a para añadir)")
     (uk . "Немає груп (натисніть a для додавання)")
     (be . "Няма груп (націсніце a, каб дадаць)")
     (zh . "暂无分组（按 a 添加）")
     (ja . "グループがありません（a で追加）"))
    (:mouse-open-group
     (en . "mouse-1: open group")
     (ru . "mouse-1: открыть группу")
     (fr . "souris-1: ouvrir le groupe")
     (de . "Maus-1: Gruppe öffnen")
     (es . "ratón-1: abrir grupo")
     (uk . "mouse-1: відкрити групу")
     (be . "mouse-1: адкрыць групу")
     (zh . "鼠标1：打开分组")
     (ja . "マウス1: グループを開く"))
    (:open-buffers
     (en . "open buffers")
     (ru . "открыть буферы")
     (fr . "ouvrir les tampons")
     (de . "puffer öffnen")
     (es . "abrir búferes")
     (uk . "відкрити буфери")
     (be . "адкрыць буферы")
     (zh . "打开缓冲区")
     (ja . "バッファを開く"))
    (:close-buffers
     (en . "close buffers")
     (ru . "закрыть буферы")
     (fr . "fermer les tampons")
     (de . "puffer schließen")
     (es . "cerrar búferes")
     (uk . "закрити буфери")
     (be . "закрыць буферы")
     (zh . "关闭缓冲区")
     (ja . "バッファを閉じる"))
    (:toggle-push
     (en . "Toggle push→gptel")
     (ru . "Переключить отправку→gptel")
     (fr . "Basculer l’envoi→gptel")
     (de . "Push→gptel umschalten")
     (es . "Alternar envío→gptel")
     (uk . "Перемкнути надсилання→gptel")
     (be . "Пераключыць адправу→gptel")
     (zh . "切换推送→gptel")
     (ja . "push→gptel を切り替え"))
    (:toggle-all-gptel
     (en . "Toggle all gptel")
     (ru . "Переключить все gptel")
     (fr . "Basculer tout gptel")
     (de . "Alle gptel umschalten")
     (es . "Alternar todo gptel")
     (uk . "Перемкнути всі gptel")
     (be . "Пераключыць усе gptel")
     (zh . "切换所有 gptel")
     (ja . "すべての gptel を切り替え"))
    (:toggle-auto
     (en . "Toggle auto project switch (A)")
     (ru . "Переключить авто-переключение проекта (A)")
     (fr . "Basculer le changement auto de projet (A)")
     (de . "Autom. Projektwechsel umschalten (A)")
     (es . "Alternar cambio automático de proyecto (A)")
     (uk . "Перемкнути автоперехід проєктів (A)")
     (be . "Пераключыць аўтапераключэнне праекта (A)")
     (zh . "切换自动项目切换 (A)")
     (ja . "自動プロジェクト切替 (A)"))
    (:toggle-multi-group
     (en . "Toggle multi-group mode")
     (ru . "Переключить мультигруппы")
     (fr . "Basculer le mode multi-groupe")
     (de . "Mehrgruppenmodus umschalten")
     (es . "Alternar modo multigrupo")
     (uk . "Перемкнути режим мультигруп")
     (be . "Пераключыць рэжым мультыгруп")
     (zh . "切换多组模式")
     (ja . "マルチグループモードの切替"))
    (:auto-proj
     (en . "auto-proj")
     (ru . "авто-проект")
     (fr . "auto-proj")
     (de . "auto-proj")
     (es . "auto-proj")
     (uk . "авто-проєкт")
     (be . "аўта-праект")
     (zh . "自动项目")
     (ja . "自動プロジェクト"))
    (:push-tip
     (en . "Push current items to gptel now (P)")
     (ru . "Отправить элементы в gptel сейчас (P)")
     (fr . "Envoyer les éléments vers gptel maintenant (P)")
     (de . "Elemente jetzt an gptel senden (P)")
     (es . "Enviar elementos a gptel ahora (P)")
     (uk . "Надіслати елементи в gptel зараз (P)")
     (be . "Адправіць элементы ў gptel зараз (P)")
     (zh . "立即推送当前项到 gptel (P)")
     (ja . "現在の項目を gptel へプッシュ (P)"))
    (:clear-tip
     (en . "Clear gptel context (C)")
     (ru . "Очистить контекст gptel (C)")
     (fr . "Effacer le contexte gptel (C)")
     (de . "gptel-Kontext leeren (C)")
     (es . "Limpiar el contexto de gptel (C)")
     (uk . "Очистити контекст gptel (C)")
     (be . "Ачысціць кантэкст gptel (C)")
     (zh . "清除 gptel 上下文 (C)")
     (ja . "gptel のコンテキストをクリア (C)"))
    (:items-help-view-groups
     (en . " Press h to view groups,")
     (ru . " Нажмите h, чтобы увидеть группы,")
     (fr . " Appuyez sur h pour voir les groupes,")
     (de . " Drücken Sie h, um Gruppen zu sehen,")
     (es . " Presione h para ver los grupos,")
     (uk . " Натисніть h, щоб переглянути групи,")
     (be . " Націсніце h, каб паглядзець групы,")
     (zh . " 按 h 查看分组,")
     (ja . " h でグループ一覧,"))
    (:items-help-help
     (en . "  ? for help")
     (ru . "  ? для справки")
     (fr . "  ? pour l’aide")
     (de . "  ? für Hilfe")
     (es . "  ? para ayuda")
     (uk . "  ? для довідки")
     (be . "  ? для даведкі")
     (zh . "  ? 帮助")
     (ja . "  ? ヘルプ"))
    (:groups-help-open
     (en . " RET: open group")
     (ru . " RET: открыть группу")
     (fr . " RET: ouvrir le groupe")
     (de . " RET: Gruppe öffnen")
     (es . " RET: abrir grupo")
     (uk . " RET: відкрити групу")
     (be . " RET: адкрыць групу")
     (zh . " RET: 打开分组")
     (ja . " RET: グループを開く"))
    (:groups-help-add
     (en . " add group")
     (ru . " создать группу")
     (fr . " ajouter")
     (de . " hinzufügen")
     (es . " añadir")
     (uk . " створити")
     (be . " стварыць")
     (zh . " 添加分组")
     (ja . " グループ作成"))
    (:groups-help-rename
     (en . " rename")
     (ru . " переименовать")
     (fr . " renommer")
     (de . " umbenennen")
     (es . " renombrar")
     (uk . " перейменувати")
     (be . " перайменаваць")
     (zh . " 重命名")
     (ja . " 名前変更"))
    (:groups-help-edit-description
     (en . " edit description")
     (ru . " изменить описание")
     (fr . " modifier la description")
     (de . " Beschreibung bearbeiten")
     (es . " editar descripción")
     (uk . " редагувати опис")
     (be . " рэдагаваць апісанне")
     (zh . " 编辑描述")
     (ja . " 説明を編集"))
    (:groups-help-delete
     (en . " delete")
     (ru . " удалить")
     (fr . " supprimer")
     (de . " löschen")
     (es . " eliminar")
     (uk . " видалити")
     (be . " выдаліць")
     (zh . " 删除")
     (ja . " 削除"))
    (:groups-help-copy
     (en . " duplicate")
     (ru . " дублировать")
     (fr . " dupliquer")
     (de . " duplizieren")
     (es . " duplicar")
     (uk . " дублювати")
     (be . " дубляваць")
     (zh . " 复制")
     (ja . " 複製"))
    (:groups-help-refresh
     (en . "refresh")
     (ru . "обновить")
     (fr . "actualiser")
     (de . "aktualisieren")
     (es . "actualizar")
     (uk . "оновити")
     (be . "абнавіць")
     (zh . "刷新")
     (ja . "更新"))
    (:groups-help-back
     (en . "back to items")
     (ru . "к элементам")
     (fr . "retour aux éléments")
     (de . "zurück zu Elementen")
     (es . "volver a elementos")
     (uk . "назад до елементів")
     (be . "назад да элементаў")
     (zh . "返回到条目")
     (ja . "項目に戻る"))
    (:groups-help-quit
     (en . "quit")
     (ru . "выйти")
     (fr . "quitter")
     (de . "beenden")
     (es . "salir")
     (uk . "вийти")
     (be . "выйсці")
     (zh . "退出")
     (ja . "終了"))
    (:groups-help-help
     (en . "help")
     (ru . "справка")
     (fr . "aide")
     (de . "Hilfe")
     (es . "ayuda")
     (uk . "довідка")
     (be . "даведка")
     (zh . "帮助")
     (ja . "ヘルプ"))
    (:menu-hint
     (en . "  [?] - menu")
     (ru . "  [?] - меню")
     (fr . "  [?] - menu")
     (de . "  [?] - Menü")
     (es . "  [?] - menú")
     (uk . "  [?] - меню")
     (be . "  [?] - меню")
     (zh . "  [?] - 菜单")
     (ja . "  [?] - メニュー"))
    (:status-up-to-groups
     (en . "<to groups>")
     (ru . "<к группам>")
     (fr . "<vers groupes>")
     (de . "<zu Gruppen>")
     (es . "<a grupos>")
     (uk . "<до груп>")
     (be . "<да груп>")
     (zh . "<到分组>")
     (ja . "<グループへ>"))
    (:preview-title
     (en . "Will add %d file(s), total ~%s")
     (ru . "Будет добавлено %d файл(ов), всего ~%s")
     (fr . "Ajout de %d fichier(s), total ~%s")
     (de . "Es werden %d Datei(en) hinzugefügt, gesamt ~%s")
     (es . "Se agregarán %d archivo(s), total ~%s")
     (uk . "Буде додано %d файл(ів), разом ~%s")
     (be . "Буде дададзена %d файл(аў), усяго ~%s")
     (zh . "将添加 %d 个文件，合计 ~%s")
     (ja . "%d 個のファイルを追加予定、合計 ~%s"))
    (:preview-skipped-too-big
     (en . "Skipped (too large): %d (limit=%s)")
     (ru . "Пропущено (слишком большие): %d (лимит=%s)")
     (fr . "Ignoré (trop volumineux): %d (limite=%s)")
     (de . "Übersprungen (zu groß): %d (Limit=%s)")
     (es . "Omitidos (demasiado grandes): %d (límite=%s)")
     (uk . "Пропущено (надто великі): %d (ліміт=%s)")
     (be . "Прапушчана (занадта вялікія): %d (ліміт=%s)")
     (zh . "跳过（太大）：%d（上限=%s）")
     (ja . "スキップ（大きすぎ）: %d （上限=%s）"))
    (:preview-skipped-nonregular
     (en . "Skipped (non-regular): %d")
     (ru . "Пропущено (необычные файлы): %d")
     (fr . "Ignoré (non régulier): %d")
     (de . "Übersprungen (nicht regulär): %d")
     (es . "Omitidos (no regulares): %d")
     (uk . "Пропущено (нерегулярні): %d")
     (be . "Прапушчана (нярэгулярныя): %d")
     (zh . "跳过（非普通文件）：%d")
     (ja . "スキップ（通常でない）: %d"))
    (:preview-remote
     (en . "Remote files: %d (TRAMP)")
     (ru . "Удалённые файлы: %d (TRAMP)")
     (fr . "Fichiers distants: %d (TRAMP)")
     (de . "Remote-Dateien: %d (TRAMP)")
     (es . "Archivos remotos: %d (TRAMP)")
     (uk . "Віддалені файли: %d (TRAMP)")
     (be . "Аддаленыя файлы: %d (TRAMP)")
     (zh . "远程文件：%d (TRAMP)")
     (ja . "リモートファイル: %d (TRAMP)"))
    (:preview-files
     (en . "Files:")
     (ru . "Файлы:")
     (fr . "Fichiers:")
     (de . "Dateien:")
     (es . "Archivos:")
     (uk . "Файли:")
     (be . "Файлы:")
     (zh . "文件：")
     (ja . "ファイル:"))
    (:confirm-add
     (en . "Add %d file(s) to context? ")
     (ru . "Добавить %d файл(ов) в контекст? ")
     (fr . "Ajouter %d fichier(s) au contexte ? ")
     (de . "%d Datei(en) zum Kontext hinzufügen? ")
     (es . "¿Agregar %d archivo(s) al contexto? ")
     (uk . "Додати %d файл(ів) у контекст? ")
     (be . "Дадаць %d файл(аў) у кантэкст? ")
     (zh . "将 %d 个文件添加到上下文？ ")
     (ja . "%d 個のファイルをコンテキストに追加しますか? "))
    (:no-files-selected
     (en . "No files selected in Dired")
     (ru . "В Dired ничего не выбрано")
     (fr . "Aucun fichier sélectionné dans Dired")
     (de . "Keine Dateien in Dired ausgewählt")
     (es . "No hay archivos seleccionados en Dired")
     (uk . "У Dired нічого не вибрано")
     (be . "У Dired нічога не выбрана")
     (zh . "Dired 中未选中文件")
     (ja . "Dired でファイルが選択されていません"))
    (:aborted
     (en . "Aborted")
     (ru . "Отменено")
     (fr . "Annulé")
     (de . "Abgebrochen")
     (es . "Cancelado")
     (uk . "Скасовано")
     (be . "Скасавана")
     (zh . "已中止")
     (ja . "中断しました"))
    (:added-files
     (en . "Added %d file(s) to context")
     (ru . "Добавлено файлов в контекст: %d")
     (fr . "Ajouté %d fichier(s) au contexte")
     (de . "%d Datei(en) zum Kontext hinzugefügt")
     (es . "Se agregaron %d archivo(s) al contexto")
     (uk . "Додано файлів у контекст: %d")
     (be . "Дададзена файлаў у кантэкст: %d")
     (zh . "已添加 %d 个文件到上下文")
     (ja . "コンテキストに %d 個のファイルを追加しました"))
    (:warn-remote-selected
     (en . "Selected set includes %d remote file(s). Proceed? ")
     (ru . "Выбран набор с удалёнными файлами: %d. Продолжить? ")
     (fr . "La sélection inclut %d fichier(s) distant(s). Continuer ? ")
     (de . "Auswahl enthält %d Remote-Datei(en). Fortfahren? ")
     (es . "La selección incluye %d archivo(s) remoto(s). ¿Continuar? ")
     (uk . "Вибірка містить %d віддалений файл(и). Продовжити?")
     (be . "Выбар уключае %d аддалены файл(ы). Працягнуць?")
     (zh . "所选包含 %d 个远程文件。继续？")
     (ja . "選択に %d 個のリモートファイルが含まれます。続行しますか？"))
    (:warn-remote-current
     (en . "Current file is remote (TRAMP). Proceed? ")
     (ru . "Текущий файл — удалённый (TRAMP). Продолжить? ")
     (fr . "Le fichier actuel est distant (TRAMP). Continuer ? ")
     (de . "Aktuelle Datei ist remote (TRAMP). Fortfahren? ")
     (es . "El archivo actual es remoto (TRAMP). ¿Continuar? ")
     (uk . "Поточний файл є віддаленим (TRAMP). Продовжити?")
     (be . "Цяперашні файл з’яўляецца аддаленым (TRAMP). Працягнуць?")
     (zh . "当前文件为远程 (TRAMP)。继续？")
     (ja . "現在のファイルはリモート (TRAMP) です。続行しますか？"))
    (:added-selection
     (en . "Added selection to context")
     (ru . "Выделение добавлено в контекст")
     (fr . "Sélection ajoutée au contexte")
     (de . "Auswahl zum Kontext hinzugefügt")
     (es . "Selección añadida al contexto")
     (uk . "Виділення додано до контексту")
     (be . "Выдзяленне дададзена ў кантэкст")
     (zh . "已将选区添加到上下文")
     (ja . "選択範囲をコンテキストに追加しました"))
    (:added-buffer
     (en . "Added buffer to context")
     (ru . "Буфер добавлен в контекст")
     (fr . "Tampon ajouté au contexte")
     (de . "Puffer zum Kontext hinzugefügt")
     (es . "Búfer agregado al contexto")
     (uk . "Буфер додано до контексту")
     (be . "Буфер дададзены ў кантэкст")
     (zh . "已将缓冲区添加到上下文")
     (ja . "バッファをコンテキストに追加しました"))

    ;; Help window / sidebar help
    (:help-title
     (en . "Context Navigator — Help")
     (ru . "Context Navigator — Справка")
     (fr . "Context Navigator — Aide")
     (de . "Context Navigator — Hilfe")
     (es . "Context Navigator — Ayuda")
     (uk . "Context Navigator — Довідка")
     (be . "Context Navigator — Даведка")
     (zh . "Context Navigator — 帮助")
     (ja . "Context Navigator — ヘルプ"))
    (:help-global-title
     (en . "Global keys")
     (ru . "Глобальные клавиши")
     (fr . "Raccourcis globaux")
     (de . "Globale Tasten")
     (es . "Teclas globales")
     (uk . "Глобальні клавіші")
     (be . "Глабальныя клавішы")
     (zh . "全局按键")
     (ja . "グローバルキー"))
    (:help-global-summary
     (en . "The following bindings are available in the sidebar buffer.")
     (ru . "Следующие клавиши доступны в буфере боковой панели.")
     (fr . "Les raccourcis suivants sont disponibles dans le tampon de la barre latérale.")
     (de . "Die folgenden Bindings sind im Seitenleistenpuffer verfügbar.")
     (es . "Los siguientes atajos están disponibles en el búfer de la barra lateral.")
     (uk . "Наступні прив’язки доступні в буфері бокової панелі.")
     (be . "Наступныя прывязкі даступныя ў буферы бакавой панэлі.")
     (zh . "以下按键绑定在侧边栏缓冲区中可用。")
     (ja . "以下のバインディングはサイドバーのバッファで利用できます。"))
    (:help-groups-summary
     (en . "In Groups mode additional keys are available: a add, r rename, c duplicate, d delete.")
     (ru . "В режиме групп доступны дополнительные клавиши: a — создать, r — переименовать, c — дублировать, d — удалить.")
     (fr . "En mode Groupes, des touches supplémentaires sont disponibles : a ajouter, r renommer, c dupliquer, d supprimer.")
     (de . "Im Gruppenmodus sind zusätzliche Tasten verfügbar: a hinzufügen, r umbenennen, c duplizieren, d löschen.")
     (es . "En el modo Grupos hay teclas adicionales: a añadir, r renombrar, c duplicar, d borrar.")
     (uk . "У режимі груп доступні додаткові клавіші: a — створити, r — перейменувати, c — дублювати, d — видалити.")
     (be . "У рэжыме груп даступныя дадатковыя клавішы: a — стварыць, r — перайменаваць, c — дубляваць, d — выдаліць.")
     (zh . "在分组模式下还有其他按键：a 添加，r 重命名，c 复制，d 删除。")
     (ja . "グループモードでは追加のキーが使えます: a 追加、r 名前変更、c 複製、d 削除。"))

    ;; Per-command help lines (descriptions only; keys are shown dynamically)
    (:help-next-item
     (en . "Next item")
     (ru . "Следующий элемент")
     (fr . "Élément suivant")
     (de . "Nächstes Element")
     (es . "Siguiente elemento")
     (uk . "Наступний елемент")
     (be . "Наступны элемент")
     (zh . "下一个项目")
     (ja . "次の項目"))
    (:help-previous-item
     (en . "Previous item")
     (ru . "Предыдущий элемент")
     (fr . "Élément précédent")
     (de . "Vorheriges Element")
     (es . "Elemento anterior")
     (uk . "Попередній елемент")
     (be . "Папярэдні элемент")
     (zh . "上一个项目")
     (ja . "前の項目"))
    (:help-activate
     (en . "Activate/open")
     (ru . "Открыть/активировать")
     (fr . "Activer/ouvrir")
     (de . "Aktivieren/öffnen")
     (es . "Activar/abrir")
     (uk . "Відкрити/активувати")
     (be . "Адкрыць/актываваць")
     (zh . "激活/打开")
     (ja . "開く/アクティブ化"))
    (:help-preview
     (en . "Preview in other window")
     (ru . "Предпросмотр в другом окне")
     (fr . "Aperçu dans une autre fenêtre")
     (de . "Vorschau in anderem Fenster")
     (es . "Previsualizar en otra ventana")
     (uk . "Перегляд в іншому вікні")
     (be . "Перагляд у іншым акне")
     (zh . "在其他窗口预览")
     (ja . "別ウィンドウでプレビュー"))
    (:help-toggle-gptel
     (en . "Toggle include/exclude item")
     (ru . "Включить/исключить элемент")
     (fr . "Inclure/Exclure l’élément")
     (de . "Element ein-/ausschließen")
     (es . "Incluir/Excluir elemento")
     (uk . "Увімкнути/вимкнути елемент")
     (be . "Уключыць/выключыць элемент")
     (zh . "包含/排除条目")
     (ja . "項目の含める/除外を切り替え"))
    (:help-delete
     (en . "Delete from model")
     (ru . "Удалить из модели")
     (fr . "Supprimer du modèle")
     (de . "Aus Modell löschen")
     (es . "Eliminar del modelo")
     (uk . "Вилучити з моделі")
     (be . "Выдаліць з мадэлі")
     (zh . "从模型中删除")
     (ja . "モデルから削除"))
    (:help-refresh
     (en . "Refresh view")
     (ru . "Обновить список")
     (fr . "Rafraîchir la vue")
     (de . "Ansicht aktualisieren")
     (es . "Actualizar vista")
     (uk . "Оновити список")
     (be . "Абнавіць спіс")
     (zh . "刷新视图")
     (ja . "ビューを更新"))
    (:help-go-up
     (en . "Back to groups/items")
     (ru . "Назад к группам/элементам")
     (fr . "Retour aux groupes/éléments")
     (de . "Zurück zu Gruppen/Elementen")
     (es . "Volver a grupos/elementos")
     (uk . "Назад до груп/елементів")
     (be . "Назад да груп/элементаў")
     (zh . "返回到分组/条目")
     (ja . "グループ/項目に戻る"))
    (:help-group-create
     (en . "Create group")
     (ru . "Создать группу")
     (fr . "Créer un groupe")
     (de . "Gruppe erstellen")
     (es . "Crear grupo")
     (uk . "Створити групу")
     (be . "Стварыць групу")
     (zh . "创建分组")
     (ja . "グループを作成"))
    (:help-group-rename
     (en . "Rename group")
     (ru . "Переименовать группу")
     (fr . "Renommer le groupe")
     (de . "Gruppe umbenennen")
     (es . "Renombrar grupo")
     (uk . "Перейменувати групу")
     (be . "Перайменаваць групу")
     (zh . "重命名分组")
     (ja . "グループ名を変更"))
    (:help-group-duplicate
     (en . "Duplicate group")
     (ru . "Дублировать группу")
     (fr . "Dupliquer le groupe")
     (de . "Gruppe duplizieren")
     (es . "Duplicar grupo")
     (uk . "Дублювати групу")
     (be . "Дубляваць групу")
     (zh . "复制分组")
     (ja . "グループを複製"))
    (:help-toggle-push
     (en . "Toggle push→gptel")
     (ru . "Переключить отправку→gptel")
     (fr . "Basculer push→gptel")
     (de . "Push→gptel umschalten")
     (es . "Alternar push→gptel")
     (uk . "Перемкнути push→gptel")
     (be . "Пераключыць push→gptel")
     (zh . "切换推送→gptel")
     (ja . "push→gptel を切り替え"))
    (:help-toggle-auto
     (en . "Toggle auto-project")
     (ru . "Переключить авто‑проект")
     (fr . "Basculer auto‑projet")
     (de . "Auto‑Projekt umschalten")
     (es . "Alternar auto‑proyecto")
     (uk . "Перемкнути авто‑проєкт")
     (be . "Пераключыць аўта‑праект")
     (zh . "切换自动项目")
     (ja . "自動プロジェクト切替"))
    (:help-open-all
     (en . "Open all context buffers")
     (ru . "Открыть все буферы контекста")
     (fr . "Ouvrir tous les tampons du contexte")
     (de . "Alle Kontextpuffer öffnen")
     (es . "Abrir todos los búferes del contexto")
     (uk . "Відкрити всі буфери контексту")
     (be . "Адкрыць усе буферы кантэксту")
     (zh . "打开所有上下文缓冲区")
     (ja . "すべてのコンテキストバッファを開く"))
    (:help-push-now
     (en . "Push now to gptel")
     (ru . "Отправить сейчас в gptel")
     (fr . "Envoyer maintenant vers gptel")
     (de . "Jetzt an gptel senden")
     (es . "Enviar ahora a gptel")
     (uk . "Надіслати зараз до gptel")
     (be . "Адправіць зараз у gptel")
     (zh . "立即推送到 gptel")
     (ja . "今すぐ gptel にプッシュ"))
    (:help-clear-group
     (en . "Clear current group")
     (ru . "Очистить текущую группу")
     (fr . "Effacer le groupe courant")
     (de . "Aktuelle Gruppe leeren")
     (es . "Vaciar el grupo actual")
     (uk . "Очистити поточну групу")
     (be . "Ачысціць бягучую групу")
     (zh . "清空当前分组")
     (ja . "現在のグループをクリア"))
    (:help-clear-gptel
     (en . "Clear gptel context")
     (ru . "Очистить контекст gptel")
     (fr . "Effacer le contexte gptel")
     (de . "gptel‑Kontext leeren")
     (es . "Limpiar el contexto de gptel")
     (uk . "Очистити контекст gptel")
     (be . "Ачысціць кантэкст gptel")
     (zh . "清除 gptel 上下文")
     (ja . "gptel のコンテキストをクリア"))
    (:help-quit
     (en . "Close sidebar")
     (ru . "Закрыть боковую панель")
     (fr . "Fermer la barre latérale")
     (de . "Seitenleiste schließen")
     (es . "Cerrar barra lateral")
     (uk . "Закрити бокову панель")
     (be . "Закрыць бакавую панэль")
     (zh . "关闭侧边栏")
     (ja . "サイドバーを閉じる"))
    (:help-help
     (en . "Show this help")
     (ru . "Показать эту справку")
     (fr . "Afficher cette aide")
     (de . "Diese Hilfe anzeigen")
     (es . "Mostrar esta ayuda")
     (uk . "Показати цю довідку")
     (be . "Паказаць гэтую даведку")
     (zh . "显示此帮助")
     (ja . "このヘルプを表示"))

    (:activate-not-available
     (en . "[Context Navigator] Activate command not available yet.")
     (ru . "[Context Navigator] Команда активации ещё недоступна."))
    (:debug-run-in-nav-buffer
     (en . "Run inside the Context Navigator buffer")
     (ru . "Выполните внутри буфера Context Navigator"))
    ;; Stats footer (minimal set)
    (:stats
     (en . "Stats")
     (ru . "Статистика")
     (fr . "Statistiques")
     (de . "Statistiken")
     (es . "Estadísticas")
     (uk . "Статистика")
     (be . "Статыстыка")
     (zh . "统计")
     (ja . "統計"))
    (:stats-counts
     (en . "counts")
     (ru . "счётчики")
     (fr . "comptes")
     (de . "Zähler")
     (es . "conteos")
     (uk . "лічильники")
     (be . "лічыльнікі")
     (zh . "计数")
     (ja . "カウント"))
    (:stats-size
     (en . "size")
     (ru . "размер")
     (fr . "taille")
     (de . "Größe")
     (es . "tamaño")
     (uk . "розмір")
     (be . "памер")
     (zh . "大小")
     (ja . "サイズ"))
    (:stats-tokens
     (en . "tokens")
     (ru . "токены")
     (fr . "jetons")
     (de . "Token")
     (es . "tokens")
     (uk . "токени")
     (be . "токены")
     (zh . "标记")
     (ja . "トークン"))
    (:enabled
     (en . "enabled")
     (ru . "включено")
     (fr . "activé")
     (de . "aktiviert")
     (es . "habilitado")
     (uk . "увімкнено")
     (be . "уключана")
     (zh . "已启用")
     (ja . "有効"))
    (:total
     (en . "total")
     (ru . "всего")
     (fr . "total")
     (de . "gesamt")
     (es . "total")
     (uk . "усього")
     (be . "усяго")
     (zh . "合计")
     (ja . "合計"))
    (:selected
     (en . "Selected")
     (ru . "Выбрано")
     (fr . "Sélection")
     (de . "Ausgewählt")
     (es . "Seleccionado")
     (uk . "Вибрано")
     (be . "Вылучана")
     (zh . "已选")
     (ja . "選択済み"))
    (:item-enabled
     (en . "Enabled: %s")
     (ru . "Включено: %s")
     (fr . "Activé : %s")
     (de . "Aktiviert: %s")
     (es . "Habilitado: %s")
     (uk . "Увімкнено: %s")
     (be . "Уключана: %s")
     (zh . "已启用：%s")
     (ja . "有効: %s"))
    (:item-disabled
     (en . "Disabled: %s")
     (ru . "Выключено: %s")
     (fr . "Désactivé : %s")
     (de . "Deaktiviert: %s")
     (es . "Deshabilitado: %s")
     (uk . "Вимкнено: %s")
     (be . "Адключана: %s")
     (zh . "已禁用：%s")
     (ja . "無効: %s"))
    ;; Messages for single-item gptel toggle feedback
    (:gptel-added-one
     (en . "Added to gptel: %s")
     (ru . "Добавлено в gptel: %s"))
    (:gptel-removed-one
     (en . "Removed from gptel: %s")
     (ru . "Удалено из gptel: %s"))
    (:gptel-no-change
     (en . "No change for: %s")
     (ru . "Без изменений для: %s"))
    (:stats-toggle-hint
     (en . "Click/TAB/RET — toggle stats")
     (ru . "Клик/TAB/RET — переключить статистику"))
    (:title-toggle-hint
     (en . "Click/TAB/RET — collapse/expand")
     (ru . "Клик/TAB/RET — свернуть/развернуть"))
    (:mf-section-hint
     (en . "Click/TAB — collapse/expand; RET: visit/edit; t: toggle; d: delete; p: push")
     (ru . "Клик/TAB — свернуть/развернуть; RET: открыть/редактировать; t: переключить; d: удалить; p: отправить"))
    (:mf-action-visit
     (en . "RET/mouse-1: visit")
     (ru . "RET/mouse-1: открыть"))
    (:mf-action-toggle
     (en . "t/mouse-1: toggle enable")
     (ru . "t/mouse-1: переключить"))
    (:mf-action-delete
     (en . "d/mouse-1: delete")
     (ru . "d/mouse-1: удалить"))
    (:mf-action-push
     (en . "p/mouse-1: push")
     (ru . "p/mouse-1: отправить"))
    (:mf-collapse-hint
     (en . "Collapse/expand all previews (z)")
     (ru . "Свернуть/развернуть все превью (z)"))
    (:mf-filter-hint
     (en . "Toggle filter: enabled/all (f)")
     (ru . "Переключить фильтр: включённые/все (f)"))
    (:mf-edit-all-hint
     (en . "Open edit buffers for all selections (E)")
     (ru . "Открыть редактирование для всех выделений (E)"))
    (:mf-close-hint
     (en . "Close Multifile (q)")
     (ru . "Закрыть Multifile (q)"))

    ;; Multifile runtime hints/messages
    (:mf-title
     (en . "Context Multifile View")
     (ru . "🧭 Мультифайл просмотр"))
    (:mf-end-of-sections
     (en . "End of sections")
     (ru . "Конец разделов"))
    (:mf-start-of-sections
     (en . "Start of sections")
     (ru . "Начало разделов"))
    (:mf-unknown-item
     (en . "Unknown item")
     (ru . "Неизвестный элемент"))
    (:no-item-at-point
     (en . "No item at point")
     (ru . "Нет элемента под курсором"))
    (:mf-no-path
     (en . "<no path>")
     (ru . "<нет пути>"))
    (:mf-remote-preview-disabled
     (en . "<remote preview disabled>")
     (ru . "<предпросмотр для удалённых отключён>"))
    (:mf-remote-preview-lazy
     (en . "<remote preview (lazy): not reading file>")
     (ru . "<удалённый предпросмотр (ленивый): файл не читается>"))
    (:mf-unreadable
     (en . "<unreadable>")
     (ru . "<недоступно для чтения>"))
    (:mf-selection-base-missing
     (en . "<selection: base buffer not available>")
     (ru . "<выделение: базовый буфер недоступен>"))
    (:mf-selection-invalid-bounds
     (en . "<selection: invalid bounds>")
     (ru . "<выделение: неверные границы>"))
    (:mf-buffer-only-not-editable
     (en . "<buffer-only; not editable here>")
     (ru . "<только буфер; редактирование недоступно>"))
    (:mf-base-buffer-missing
     (en . "Base buffer not available")
     (ru . "Базовый буфер недоступен"))
    (:mf-selection-not-visiting-file
     (en . "Selection base buffer is not visiting a file — editing blocked")
     (ru . "Базовый буфер выделения не открыт как файл — редактирование запрещено"))
    (:mf-narrowed-edit-hint
     (en . "Narrowed edit; C-x C-s to save")
     (ru . "Суженное редактирование; C-x C-s для сохранения"))
    (:mf-help-fallback
     (en . "Multifile: j/k/n – navigate, RET – visit/edit, t – toggle, d – delete, p – push, f – filter, E – edit all, q – quit")
     (ru . "Multifile: j/k/n – переход, RET – открыть/ред., t – переключить, d – удалить, p – отправить, f – фильтр, E – редактировать все, q – выход"))
    (:mf-filter-enabled-only
     (en . "Filter: enabled-only")
     (ru . "Фильтр: только включённые"))
    (:mf-filter-all
     (en . "Filter: all items")
     (ru . "Фильтр: все элементы"))
    (:mf-open-edit-buffers-confirm
     (en . "Open %d edit buffers? ")
     (ru . "Открыть %d буфер(ов) редактирования? "))
    (:mf-opened-edit-buffers
     (en . "Opened %d selection edit buffers")
     (ru . "Открыто буферов редактирования: %d"))

    ;; ... (оставить остальные блоки без изменений, дополнив их недостающими переводами)
    )
  "Translation dictionary for minimal UI strings.")

(defun context-navigator-i18n--lang-from-locale ()
  "Guess language code from environment locale."
  (let* ((lang (or (getenv "LANG") (getenv "LC_ALL") (getenv "LC_MESSAGES") "")))
    (cond
     ((string-match-p "\\`ru" lang) 'ru)
     ((string-match-p "\\`fr" lang) 'fr)
     ((string-match-p "\\`de" lang) 'de)
     ((string-match-p "\\`es" lang) 'es)
     ((string-match-p "\\`uk" lang) 'uk)
     ((string-match-p "\\`be" lang) 'be)
     ((string-match-p "\\`zh" lang) 'zh)
     ((string-match-p "\\`ja" lang) 'ja)
     (t 'en))))

(defun context-navigator-i18n--lang ()
  "Return current language symbol.

In noninteractive sessions (ERT/CI) force English ('en) for stable test output.
When running interactively, respect `context-navigator-language' and the
locale-based fallback when it is set to 'auto."
  (if noninteractive
      'en
    (if (eq context-navigator-language 'auto)
        (context-navigator-i18n--lang-from-locale)
      context-navigator-language)))

(defun context-navigator-i18n (key)
  "Return localized string for KEY."
  (let* ((lang (context-navigator-i18n--lang))
         (row (assoc key context-navigator-i18n--dict))
         (val (and row (cdr (assq lang (cdr row))))))
    (or val
        (and row (cdr (assq 'en (cdr row))))
        (format "%s" key))))

;; Note: language selection in noninteractive (ERT/CI) is handled inside
;; `context-navigator-i18n--lang' to ensure deterministic English output for tests.

;; Test/runtime helpers and safe aliases
;; In noninteractive (CI/ERT) sessions prefer stable English strings unless
;; the user explicitly overrides context-navigator-language.
(when (and noninteractive (not (bound-and-true-p context-navigator-language)))
  (setq context-navigator-language 'en))

;; Provide a safe "_" alias for concise i18n calls in code/tests.
(unless (fboundp '_)
  (defalias '_ #'context-navigator-i18n))

(provide 'context-navigator-i18n)
;;; context-navigator-i18n.el ends here
